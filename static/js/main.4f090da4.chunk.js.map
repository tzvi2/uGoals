{"version":3,"sources":["css/CreateNewGoal.module.css","css/ViewGoal.module.css","css/GoalCard.module.css","css/Account.module.css","css/About.module.css","css/MobileNav.module.css","css/ActionsCard.module.css","css/DesktopNav.module.css","css/SigninForm.module.css","css/ViewGoals.module.css","css/AccountDeletionConfirmation.module.css","css/Footer.module.css","css/SignupForm.module.css","config/firebase.js","context/AuthContext.js","utils/ids.js","utils/strings.js","utils/dates.js","context/GoalContext.js","components/nav/MobileNav.js","components/nav/DesktopNav.js","components/pages/About.js","components/forms/ActionsForm.js","components/pages/GoalConfirmation.js","utils/math.js","components/forms/SignupForm.js","components/pages/CreateNewGoal.js","components/pages/ViewGoal.js","components/GoalCard.js","components/pages/ViewGoals.js","components/pages/Account.js","components/LatestGoalCard.js","components/forms/SigninForm.js","components/ActionChecklistItem.js","components/ActionsCard.js","App.js","components/pages/AccountDeletionConfirmation.js","components/Footer.js","components/Popup.js","components/nav/Nav.js","index.js"],"names":["module","exports","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","AuthContext","React","createContext","useAuthContext","useContext","AuthProvider","children","useState","authUser","setAuthUser","authLoading","authStateLoading","setAuthStateLoading","userInfo","setUserInfo","signup","name","email","password","a","createUserWithEmailAndPassword","newUser","updateProfile","currentUser","displayName","setDoc","doc","user","uid","goalsCreated","goalsCompleted","day","week","month","signin","signInWithEmailAndPassword","signout","signOut","deleteAccount","userID","deleteUser","reAuthenticate","cred","EmailAuthProvider","credential","reauthenticateWithCredential","re","useEffect","unsubAuthChanges","onAuthStateChanged","unsubUserInfoChanges","onSnapshot","info","data","value","Provider","getRandomID","result","stringLength","Math","floor","random","numberLength","i","fiftyfifty","lowerRand","higherRand","String","fromCharCode","removeTrailingWhiteSpace","str","lastChar","length","substring","getDaysBetween","date1","date2","round","getTime","dateStringToUS","string","parseInt","Number","year","getDateStringsUntilDeadline","date","period","Date","results","today","tomorrow","setDate","getDate","push","toDateString","getMonthAndDay","slice","getCurrentStart","action","GoalContext","useGoalContext","GoalProvider","currentUsersGoals","setCurrentUsersGoals","currentGoalId","setCurrentGoalId","currentTitle","setCurrentTitle","currentSummary","setCurrentSummary","currentDeadline","setCurrentDeadline","mostRecentKey","setMostRecentKey","currentGoal","setCurrentGoal","pendingGoal","setPendingGoal","secondsRemaining","setSecondsRemaining","userGoalsLoading","setUserGoalsLoading","hasPendingGoal","setHasPendingGoal","actions","setActions","justOpenedGoal","setJustOpenedGoal","saveGoal","userId","goal","title","createdAt","serverTimestamp","merge","newGoal","userRef","updateDoc","increment","getGoals","docRef","getDoc","docSnap","exists","console","log","getGoal","goalId","toggleGoalComplete","complete","toggleActionComplete","actionid","dateStr","actionsRef","updateObj","updateGoalSummary","newSummary","getMostRecentKey","mostRecent","Object","keys","key","getGoalSummary","summary","deleteGoal","removeActions","goalRef","deleteField","savePendingGoal","usersGoals","updateActions","dbActions","newActions","changed","obj","entries","forEach","goalID","goalData","actionID","actionData","splitTime","deadline","removeAction","unsubGoalChanges","goals","unsubActionChanges","handleSetActions","seconds","setTimeout","clearTimeout","userHasGoals","MobileNav","props","expanded","setExpanded","wrapper","useRef","navigate","useNavigate","handleClickOutside","e","current","contains","target","handleSignOut","setBluredState","document","addEventListener","removeEventListener","className","styles","mobileNav","ref","topBar","onClick","hamburger","size","toggled","toggle","menu","slideout","slidein","to","DesktopNav","desktopNav","logo","links","About","aboutPage","about","href","wide","signUp","ActionsForm","actionName","setActionName","actionError","setActionError","addAction","milliseconds","id","newAction","number","map","k","row","saved","icon","x","type","newActionState","actionField","onChange","handleActionChange","onKeyPress","preventDefault","plus","GoalConfirmation","confirmation","viewBtn","getFraction","dividend","divisor","decimalStr","toFixed","SignupForm","firstName","setFirstName","setEmail","setPassword","emailError","setEmailError","emailInUse","setEmailInUse","passwordError","setPasswordError","nameError","setNameError","handleSubmit","code","form","onSubmit","placeholder","CreateNewGoal","setTitle","currentNumber","setCurrentNumber","targetNumber","setTargetNumber","next","setNext","savingGoal","setSavingGoal","units","setUnits","toLocaleDateString","setDeadline","daysTillDeadline","setDaysTillDeadline","setSplitTime","splitNumber","setSplitNumber","dateError","setDateError","totalNumber","perPeriodSummary","years","months","weeks","days","yearString","monthString","weekString","dayString","getCalendarComposition","setSummary","tempNum","num","res","beforeDecimal","afterDecimal","roundToPointTwoFive","includes","fractionalNum","charAt","roundToPointFive","newGoalForm","section","autoFocus","col","currentDate","handleDateChange","ViewGoal","params","useParams","findGoalWithTitle","currentActions","setCurrentActions","setNewAction","loading","setLoading","sortedActions","setSortedActions","first","sortByCreationTime","arr","p","temp","toggleComplete","handleGoalDelete","save","useCallback","debounce","debouncedSaveTitle","text","debouncedSaveSummary","v","goalTitle","handleSorting","outer","backBtn","flexColumn","rows","fillFlex","copy","handleActionRemove","completeRow","completed","inProgress","customCheckbox","checked","handleSummaryChange","deleteBtn","nOtFoUnD","notFound","GoalCard","cardStyle","index","goalCard","completeGoal","style","disabled","center","ViewGoals","sortedGoals","setSortedGoals","handleSortGoals","goalsSection","message","Account","deleteStage","setDeleteStage","handleDeleteAccount","account","metadata","LatestGoalCard","SigninForm","showForgotPassword","loginError","setLoginError","handleLogin","subtext","ActionChecklistItem","handleToggle","currentStart","ActionsCard","setToday","card","top","readOnly","dateInOneWeek","dateInOneMonth","bottom","App","AccountDeletionConfirmation","accountDeleted","setAccountDeleted","showSignIn","setShowSignIn","removeAccount","handleReauthentication","confirm","Footer","footer","Popup","Nav","mql","window","matchMedia","matches","mobile","setMobile","handleScreenResize","bluredState","path","element","ReactDOM","render","forceRefresh","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f090da4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"confirmation\":\"CreateNewGoal_confirmation__1QUPU\",\"newGoalForm\":\"CreateNewGoal_newGoalForm__3K-NE\",\"section\":\"CreateNewGoal_section__Lq1kb\",\"row\":\"CreateNewGoal_row__2Y5s_\",\"icon\":\"CreateNewGoal_icon__l9Yc_\",\"plus\":\"CreateNewGoal_plus__3ouyC\",\"actionField\":\"CreateNewGoal_actionField__3DHy2\",\"left\":\"CreateNewGoal_left__2kSbG\",\"centered\":\"CreateNewGoal_centered__2pyTx\",\"summary\":\"CreateNewGoal_summary__NZ11H\",\"btn\":\"CreateNewGoal_btn__1HnPg\",\"viewBtn\":\"CreateNewGoal_viewBtn__26gGN\",\"col\":\"CreateNewGoal_col__3Zo-_\",\"saveGoal\":\"CreateNewGoal_saveGoal__3kHzi\",\"x\":\"CreateNewGoal_x__tUbFm\",\"newAction\":\"CreateNewGoal_newAction__11DCj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"ViewGoal_outer__20SBs\",\"flexColumn\":\"ViewGoal_flexColumn__2LyrI\",\"editButton\":\"ViewGoal_editButton__18QM0\",\"row\":\"ViewGoal_row__3xj43\",\"completeRow\":\"ViewGoal_completeRow__2o8yR\",\"col\":\"ViewGoal_col__1HUzF\",\"completed\":\"ViewGoal_completed__3AYrr\",\"inProgress\":\"ViewGoal_inProgress__3xO5Y\",\"wide\":\"ViewGoal_wide__LncMV\",\"expanded\":\"ViewGoal_expanded__k0aUI\",\"summary\":\"ViewGoal_summary__3xTrh\",\"actions\":\"ViewGoal_actions__3tqtK\",\"fillFlex\":\"ViewGoal_fillFlex__XHgiq\",\"icon\":\"ViewGoal_icon__1JVjS\",\"plus\":\"ViewGoal_plus__3hDLu\",\"section\":\"ViewGoal_section__2MoEu\",\"deleteBtn\":\"ViewGoal_deleteBtn__2Fr6a\",\"backBtn\":\"ViewGoal_backBtn__2X1n4\",\"nOtFoUnD\":\"ViewGoal_nOtFoUnD__1UQQQ\",\"notFound\":\"ViewGoal_notFound__379fO\",\"flash\":\"ViewGoal_flash__18-xc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goalCard\":\"GoalCard_goalCard__2zt7Z\",\"completeGoal\":\"GoalCard_completeGoal__1E9YN\",\"row\":\"GoalCard_row__j__SB\",\"disabled\":\"GoalCard_disabled__3oocM\",\"title\":\"GoalCard_title__3sjq3\",\"center\":\"GoalCard_center__3jxb_\",\"complete\":\"GoalCard_complete__iwMDI\",\"customCheckbox\":\"GoalCard_customCheckbox__1eCnZ\",\"slidein\":\"GoalCard_slidein__1qS6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"account\":\"Account_account__22JDJ\",\"row\":\"Account_row__1BuB8\",\"col\":\"Account_col__25Tp8\",\"gold\":\"Account_gold__13Wvn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aboutPage\":\"About_aboutPage__2mLiL\",\"about\":\"About_about__3xfqI\",\"wide\":\"About_wide__TLcH9\",\"signUp\":\"About_signUp__2_eIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mobileNav\":\"MobileNav_mobileNav__2q0R4\",\"topBar\":\"MobileNav_topBar__3wnhP\",\"hamburger\":\"MobileNav_hamburger__3b8Z4\",\"menu\":\"MobileNav_menu___FmbZ\",\"slidein\":\"MobileNav_slidein__mgCas\",\"slideout\":\"MobileNav_slideout__WfE71\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ActionsCard_card__3XBHi\",\"top\":\"ActionsCard_top__3HLyE\",\"bottom\":\"ActionsCard_bottom__z2tR5\",\"row\":\"ActionsCard_row__t0tR1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"desktopNav\":\"DesktopNav_desktopNav__388H_\",\"links\":\"DesktopNav_links__5In6W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SigninForm_form__3UfWe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goalsSection\":\"ViewGoals_goalsSection__2ux6M\",\"message\":\"ViewGoals_message__3Pusq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reAuthenticate\":\"AccountDeletionConfirmation_reAuthenticate__dbMf_\",\"confirm\":\"AccountDeletionConfirmation_confirm__19RmY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__Kdcd0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SignupForm_form__AdNRA\"};","import { initializeApp } from \"firebase/app\";\r\nimport {getAuth} from 'firebase/auth'\r\nimport {getFirestore} from 'firebase/firestore'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBe8EcLGZMlkW1DRQQb6W61AKtzEFE8oVc\",\r\n  authDomain: \"goalsapp-beaf7.firebaseapp.com\",\r\n  databaseURL: \"https://goalsapp-beaf7-default-rtdb.firebaseio.com\",\r\n  projectId: \"goalsapp-beaf7\",\r\n  storageBucket: \"goalsapp-beaf7.appspot.com\",\r\n  messagingSenderId: \"543677480965\",\r\n  appId: \"1:543677480965:web:d17a2b4ac2752e97ee9c6c\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const db = getFirestore(app)\r\nexport const auth = getAuth(app)","import React, {useState, useEffect, useContext} from 'react'\r\nimport {auth, db} from '../config/firebase'\r\nimport {addDoc, collection, setDoc, doc, getDoc, onSnapshot, deleteDoc} from 'firebase/firestore'\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, updateProfile, deleteUser, reauthenticateWithCredential, reauthenticateWithPopup, EmailAuthCredential, AuthCredential, EmailAuthProvider} from '@firebase/auth'\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport const useAuthContext = () => useContext(AuthContext)\r\n\r\nexport function AuthProvider({children}) {\r\n\r\n    const [authUser, setAuthUser] = useState()\r\n    const [authLoading, setAuthLoading] = useState(true)\r\n    const [authStateLoading, setAuthStateLoading] = useState(true)\r\n    const [userInfo, setUserInfo] = useState(null) \r\n    \r\n    const signup = async (name, email, password) => {\r\n        const newUser = await createUserWithEmailAndPassword(auth, email, password)\r\n        await updateProfile(auth.currentUser, {\r\n            displayName: name\r\n        })\r\n        await setDoc(doc(db, \"users\", newUser.user.uid), {\r\n            goalsCreated: 0,\r\n            goalsCompleted: 0\r\n        })\r\n        await setDoc(doc(db, \"actions\", newUser.user.uid), {\r\n            day: {},\r\n            week: {},\r\n            month: {}\r\n        })\r\n        return newUser\r\n    }\r\n\r\n    const signin = async (email, password) => {\r\n        const user = await signInWithEmailAndPassword(auth, email, password)\r\n        return user\r\n    }\r\n\r\n    const signout = async () => {\r\n        return signOut(auth)\r\n    }\r\n\r\n    const deleteAccount = async (userID) => {\r\n        // await deleteDoc(doc(db, \"users\", userID))\r\n        // await deleteDoc(doc(db, \"goals\", userID))\r\n        // await deleteDoc(doc(db, \"actions\", userID))\r\n        await deleteUser(authUser)\r\n    }\r\n\r\n    const reAuthenticate = async (password) => {\r\n        const cred = EmailAuthProvider.credential(\r\n            authUser.email,\r\n            password\r\n        )\r\n        const re = await reauthenticateWithCredential(authUser, cred)\r\n        return re\r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubAuthChanges = auth.onAuthStateChanged(user => {\r\n            setAuthUser(user)\r\n        })\r\n        return () => unsubAuthChanges()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (authUser || authUser === null) {\r\n            setAuthStateLoading(false)\r\n        }\r\n        if (authUser) {\r\n            const unsubUserInfoChanges = onSnapshot(doc(db, \"users\", authUser.uid), (info) => {\r\n                setUserInfo(info.data())\r\n                setAuthStateLoading(false)\r\n            })\r\n            return () => unsubUserInfoChanges()\r\n        }\r\n    }, [authUser])\r\n\r\n    const value = {\r\n        authUser,\r\n        signup,\r\n        signin,\r\n        signout,\r\n        userInfo,\r\n        setUserInfo,\r\n        // getUserInfo,\r\n        authLoading,\r\n        deleteAccount,\r\n        authStateLoading,\r\n        reAuthenticate\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthProvider\r\n","export const getRandomID = () => {\r\n    let result = \"\"\r\n    let stringLength = Math.floor(Math.random() * (12 - 6 + 1) + 4)\r\n    let numberLength = Math.floor(Math.random() * (5 - 3 + 1) + 1)\r\n    for (let i = 0; i < stringLength; i++) {\r\n        let fiftyfifty = Math.floor(Math.random() * (2 - 1 + 1) + 1)\r\n        let lowerRand = Math.floor(Math.random() * (90 - 48 + 1) + 48)\r\n        let higherRand = Math.floor(Math.random() * (125 - 94 + 1) + 94)\r\n        if (fiftyfifty === 1) {\r\n            result += String.fromCharCode(lowerRand)\r\n        } else {\r\n            result += String.fromCharCode(higherRand)\r\n        }    \r\n    }\r\n    for (let i = 1; i < numberLength + 1; i++) {\r\n        let fiftyfifty = Math.floor(Math.random() * (2 - 1 + 1) + 1)\r\n        let lowerRand = Math.floor(Math.random() * (90 - 48 + 1) + 48)\r\n        let higherRand = Math.floor(Math.random() * (125 - 94 + 1) + 94)\r\n        if (fiftyfifty === 1) {\r\n            result += String.fromCharCode(lowerRand)\r\n        } else {\r\n            result += String.fromCharCode(higherRand)\r\n        }\r\n    }\r\n    return result\r\n}","export const joinSpacedString = (str) => {\r\n    return str.split(\" \").join(\"\")\r\n}\r\n\r\nexport const cleanUrl = (str) => {\r\n    return str.split(\"%20\").join(\" \")\r\n}\r\n\r\nexport const removeTrailingWhiteSpace = (str) => {\r\n    let lastChar = str.length \r\n    while (str[lastChar - 1] === \" \") {\r\n        lastChar--\r\n    }\r\n  return str.substring(0, lastChar)\r\n}","export const dateFromString = (str) => {\r\n    str = str.split(\"-\")\r\n    return new Date(str[0], str[1]-1, str[2])\r\n}\r\n\r\nexport const getDaysBetween = (date1, date2) => {\r\n    return Math.round((date2.getTime() - date1.getTime()) / (1000 * 3600 * 24) )\r\n}\r\n\r\nexport const dateStringToUS = (string) => {\r\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n    let day = parseInt(string.substring(8))\r\n    let month = months[Number(string.substring(5, 7)) - 1]\r\n    let year = string.substring(0, 4)\r\n    return (`${month} ${day}, ${year}`)\r\n}\r\n\r\nexport const getDateStringsUntilDeadline = (date, period) => {\r\n    date = new Date(date)\r\n    let results = []\r\n    let today = new Date()\r\n    if (period === \"day\") {\r\n        for (let i = 0; i <= getDaysBetween(today, date); i++) {\r\n            let tomorrow = new Date(today)\r\n            tomorrow.setDate(tomorrow.getDate() + i)\r\n            results.push(tomorrow.toDateString())\r\n        }\r\n    } else if (period === \"week\") {\r\n        while (today.getTime() <= date.getTime()) {\r\n            results.push(today.toDateString())\r\n            today.setDate(today.getDate() + 7)\r\n        }\r\n    } else {\r\n        // add case for >30<\r\n        while (today.getTime() <= date.getTime()) {\r\n            results.push(today.toDateString())\r\n            today.setDate(today.getDate() + 30)\r\n        }\r\n    }\r\n    return results\r\n}\r\n\r\nexport const getMonthAndDay = (string) => {\r\n    return string.slice(4, 10)\r\n}\r\n\r\nexport const dateInOneWeek = () => {\r\n    let today = new Date()\r\n    return new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000)\r\n}\r\n\r\nexport const dateInOneMonth = () => {\r\n    let today = new Date()\r\n    return new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000)\r\n}\r\n\r\n\r\n\r\nexport const getEarlierDate = (date1, date2) => {\r\n\r\n}\r\n\r\nexport const getTimeRemaining = (deadlineStr) => {\r\n    let result = \"\"\r\n    let daysRemaining = getDaysBetween(new Date(deadlineStr), new Date())\r\n    if (daysRemaining > 0 && daysRemaining < 22) {\r\n        result = `${daysRemaining} days remaining`\r\n    } else if (daysRemaining > 21 && daysRemaining < 91 ) {\r\n        result = `${Math.round(daysRemaining / 7)} weeks remaining`\r\n    } else if (daysRemaining > 91) {\r\n        result = `${Math.round(daysRemaining / 30)} months remaining`\r\n    }\r\n   \r\n}\r\n\r\nexport const getCalendarComposition = (daysTillDeadline) => {\r\n    let years = 0\r\n    let months = 0\r\n    let weeks = 0\r\n    let days = 0\r\n    while (daysTillDeadline > 364) {\r\n        years += 1\r\n        daysTillDeadline -= 365\r\n    }\r\n    while (daysTillDeadline > 29) {\r\n        months += 1\r\n        daysTillDeadline -= 30\r\n    }\r\n    while (daysTillDeadline > 6) {\r\n        weeks += 1\r\n        daysTillDeadline -= 7\r\n    }\r\n    while (daysTillDeadline > 0) {\r\n        days += 1\r\n        daysTillDeadline -= 1\r\n    }\r\n    let yearString = years === 0 ? \"\" : years === 1 ? \"1 year\" : `${years} years`\r\n    let monthString = months === 0 ? \"\" : months === 1 ? \"1 month\" : `${months} months`\r\n    let weekString = weeks === 0 ? \"\" : weeks === 1 ? \"1 week\" : `${weeks} weeks`\r\n    let dayString = days === 0 ? \"\" : days === 1 ? \"1 day\" : `${days} days`\r\n    return `${yearString} ${monthString} ${weekString} ${dayString}`\r\n}\r\n\r\nexport const getCurrentStart = (action, period) => {\r\n    let today = new Date()\r\n    // * * * \r\n    //test: today.setDate(today.getDate() + 3)\r\n    // * * * \r\n    if (period === \"day\") {\r\n        return today.toDateString()\r\n    }\r\n    else if (period === \"week\") {\r\n        for (let i = 0; i < 7; i++ ) {\r\n            today.setDate(today.getDate() - i)\r\n            if (action[today.toDateString()]) {\r\n                return today.toDateString()\r\n            }\r\n            today = new Date()\r\n        } \r\n    }\r\n    else {\r\n        for (let i = 0; i < 30; i++) {\r\n            today.setDate(today.getDate() - i)\r\n            if (action[today.toDateString()]) {\r\n               return today.toDateString()\r\n            }\r\n            today = new Date()\r\n        }\r\n    }\r\n}","import React, {useState, useEffect, useContext, useCallback} from 'react'\r\nimport {auth, db} from '../config/firebase'\r\nimport {setDoc, doc, collection, getDoc, getDocs, updateDoc, serverTimestamp, onSnapshot, increment, deleteField, query, orderBy} from 'firebase/firestore'\r\nimport { useAuthContext } from './AuthContext'\r\nimport {getRandomID} from '../utils/ids'\r\nimport { removeTrailingWhiteSpace } from '../utils/strings'\r\nimport { getDateStringsUntilDeadline } from '../utils/dates'\r\n\r\nconst GoalContext = React.createContext()\r\n\r\nexport const useGoalContext = () => useContext(GoalContext)\r\n\r\nexport function GoalProvider({children}) {\r\n\r\n    const {authUser, userInfo} = useAuthContext()\r\n\r\n    const [currentUsersGoals, setCurrentUsersGoals] = useState(null)\r\n    const [currentGoalId, setCurrentGoalId] = useState(\"\")\r\n    const [currentTitle, setCurrentTitle] = useState(\"\")\r\n    const [currentSummary, setCurrentSummary] = useState(\"\")\r\n    const [currentDeadline, setCurrentDeadline] = useState()\r\n    const [mostRecentKey, setMostRecentKey] = useState(\"\")\r\n    const [currentGoal, setCurrentGoal] = useState({})\r\n    const [pendingGoal, setPendingGoal] = useState({})\r\n    const [secondsRemaining, setSecondsRemaining] = useState(0)\r\n    const [userGoalsLoading, setUserGoalsLoading] = useState(true)\r\n    const [hasPendingGoal, setHasPendingGoal] = useState(false)\r\n    const [actions, setActions] = useState({day: {}, week: {}, month: {}})\r\n    const [justOpenedGoal, setJustOpenedGoal] = useState(true)\r\n\r\n    const saveGoal = async (userId, goal) => {\r\n        goal.title = removeTrailingWhiteSpace(goal.title)\r\n        const newGoal = await setDoc(doc(db, \"goals\", userId), {\r\n            [`${getRandomID()}`]: {...goal, createdAt: serverTimestamp()}\r\n        }, {merge: true})\r\n        const userRef = doc(db, \"users\", userId)\r\n        await updateDoc(userRef, {\r\n            goalsCreated: increment(1)\r\n        })\r\n        return newGoal\r\n    }\r\n\r\n    const getGoals = async (userId) => {\r\n        const docRef = doc(db, \"goals\", userId)\r\n        const docSnap = await getDoc(docRef)\r\n        if (docSnap.exists()) {\r\n            return docSnap.data()\r\n        } else {\r\n            console.log('error getting data')\r\n            return {}\r\n        }\r\n    }\r\n\r\n    const getGoal = async (userId, goalId) => {\r\n        const docRef = doc(db, \"goals\", userId)\r\n        const docSnap = await getDoc(docRef)\r\n        if (docSnap.exists()) {\r\n            return docSnap.data()[goalId]\r\n        }\r\n    }\r\n\r\n    const toggleGoalComplete = async (userId, goalId, complete) => {\r\n        const docRef = doc(db, \"goals\", userId)\r\n        const userRef = doc(db, \"users\", userId)\r\n        await updateDoc(docRef, {\r\n            [`${goalId}.complete`] : !complete\r\n        })\r\n        await updateDoc(userRef, {\r\n            goalsCompleted: increment(`${complete ? -1 : 1}`)\r\n        })\r\n    }\r\n\r\n    const toggleActionComplete = async (period, actionid, dateStr, complete) => {\r\n        const actionsRef = doc(db, \"actions\", authUser.uid)\r\n        let updateObj = {}\r\n        updateObj[`${period}.${actionid}.${dateStr}.complete`] = !complete\r\n        await updateDoc(actionsRef, updateObj)\r\n    }\r\n\r\n    const updateGoalSummary = async (goalId, newSummary) => {\r\n        const docRef = doc(db, \"goals\", authUser.uid)\r\n        await updateDoc(docRef, {\r\n            [`${goalId}.summary`] : newSummary\r\n        })\r\n    }\r\n\r\n    const getMostRecentKey = (userId) => {\r\n        let mostRecent = 0\r\n        let mostRecentKey = \"\"\r\n        for (let key of Object.keys(currentUsersGoals)) {\r\n            if (currentUsersGoals && currentUsersGoals[key][\"createdAt\"] && currentUsersGoals[key][\"createdAt\"][\"seconds\"] > mostRecent) {\r\n                mostRecent = currentUsersGoals[key][\"createdAt\"][\"seconds\"]\r\n                mostRecentKey = key\r\n            }  \r\n        }\r\n        return mostRecentKey\r\n    }\r\n\r\n    const getGoalSummary = async (goalId) => {\r\n        const docRef = doc(db, \"goals\", authUser.uid)\r\n        const docSnap = await getDoc(docRef)\r\n        if (docSnap.exists()) {\r\n            return docSnap.data().summary\r\n        } else {\r\n            console.log('error getting summary.')\r\n        }\r\n    }\r\n\r\n    const userHasGoals = () => {\r\n        return (Object.keys(currentUsersGoals).length > 0)\r\n    }\r\n\r\n    const deleteGoal = async (goalId, complete) => {\r\n        removeActions(goalId)\r\n        const goalRef = doc(db, \"goals\", authUser.uid)\r\n        await updateDoc(goalRef, {\r\n            [`${goalId}`]: deleteField()\r\n        })\r\n        const userRef = doc(db, \"users\", authUser.uid)\r\n        if (complete) {\r\n            await updateDoc(userRef, {\r\n                goalsCreated: increment(-1),\r\n                goalsCompleted: increment(-1)\r\n            })\r\n        } else {\r\n            await updateDoc(userRef, {\r\n                goalsCreated: increment(-1),\r\n            })\r\n        }\r\n    }\r\n    \r\n    const savePendingGoal = async () => {\r\n        const usersGoals = doc(db, \"goals\", authUser.uid)\r\n        await updateDoc(usersGoals, {\r\n            [`${currentGoalId}`]: pendingGoal\r\n        })\r\n    }\r\n\r\n    // const findGoalWithTitle = (title) => {\r\n    //     for (let key of Object.keys(currentUsersGoals)) {\r\n    //         if (currentUsersGoals[key].title === title) {\r\n    //             break\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    const updateActions = async () => {\r\n        let dbActions = {}\r\n        let newActions = actions\r\n        let changed = false\r\n        const actionsRef = doc(db, \"actions\", authUser.uid)\r\n        const obj = await getDoc(actionsRef)\r\n        if (obj.exists()) {\r\n            dbActions = obj.data()\r\n        }\r\n        Object.entries(currentUsersGoals).forEach(([goalID, goalData]) => {\r\n            Object.entries(currentUsersGoals[goalID].actions).forEach(([actionID, actionData]) => {\r\n                if (!dbActions[goalData.splitTime][actionID]) {\r\n                    changed = true\r\n                    newActions[goalData.splitTime][actionID] = {\r\n                        name: actionData.name,\r\n                        createdAt: actionData.createdAt,\r\n                        goal: goalID\r\n                    }\r\n                    for (let date of getDateStringsUntilDeadline(goalData.deadline, goalData.splitTime)) {\r\n                        newActions[goalData.splitTime][actionID][date] = {\r\n                            complete: false\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        })\r\n        if (changed) {\r\n            const actionsRef = doc(db, \"actions\", authUser.uid)\r\n            await setDoc(actionsRef, newActions)\r\n        }\r\n        \r\n    }\r\n\r\n    const handleSetActions = (obj) => {\r\n        if (!obj) return \r\n        let newActions = {}\r\n        newActions.day = obj.day\r\n        newActions.week = obj.week\r\n        newActions.month = obj.month\r\n        setActions(newActions)\r\n    }\r\n\r\n    const removeAction = async (period, actionID) => {\r\n        const actionsRef = doc(db, \"actions\", authUser.uid)\r\n        await updateDoc(actionsRef, {\r\n            [`${period}.${actionID}`]: deleteField()\r\n        })\r\n    }\r\n\r\n    const removeActions = async (goalID) => {\r\n        let newActions = actions\r\n        for (let key of Object.keys(currentUsersGoals[goalID].actions)) {\r\n            delete newActions[currentUsersGoals[goalID].splitTime][key]\r\n        }\r\n        const actionsRef = doc(db, \"actions\", authUser.uid)\r\n        await updateDoc(actionsRef, newActions)\r\n    }\r\n \r\n    useEffect(() => {\r\n        if (authUser && Object.keys(pendingGoal).length > 0 && !justOpenedGoal) {\r\n            savePendingGoal()\r\n        }\r\n    }, [pendingGoal])\r\n\r\n    useEffect(() => {\r\n        if (authUser) {\r\n            const unsubGoalChanges = onSnapshot(doc(db, \"goals\", authUser.uid), (goals) => {\r\n                if (goals.data()) {\r\n                    setCurrentUsersGoals(goals.data())\r\n                }\r\n            })\r\n            const unsubActionChanges = onSnapshot(doc(db, \"actions\", authUser.uid), (actions) => {\r\n                handleSetActions(actions.data())\r\n            })\r\n            return () => {\r\n                unsubGoalChanges()\r\n                unsubActionChanges()\r\n            }\r\n        }\r\n    }, [authUser])\r\n\r\n    useEffect(() => {\r\n        console.log('currentUsersGoals', currentUsersGoals)\r\n        if (currentUsersGoals) {\r\n            setUserGoalsLoading(false)\r\n        }\r\n        if (currentUsersGoals && Object.keys(currentUsersGoals).length > 0 ) {\r\n            setMostRecentKey(getMostRecentKey())\r\n            updateActions()\r\n        }\r\n    }, [currentUsersGoals])\r\n\r\n    useEffect(() => {\r\n        if (currentGoal && Object.keys(currentGoal).length > 0) {\r\n            setPendingGoal(currentGoal)\r\n        }\r\n        \r\n    }, [currentGoal])\r\n\r\n    useEffect(() => {\r\n        if (secondsRemaining > 0) {\r\n            const seconds = setTimeout(() => {\r\n                setSecondsRemaining(secondsRemaining - 1)\r\n            }, 1000)\r\n            return () => clearTimeout(seconds)\r\n        }\r\n    }, [secondsRemaining])\r\n\r\n    const value = {\r\n        currentUsersGoals,\r\n        setCurrentUsersGoals,\r\n        saveGoal,\r\n        getGoals,\r\n        toggleGoalComplete,\r\n        updateGoalSummary,\r\n        getGoal,\r\n        setCurrentTitle,\r\n        currentTitle,\r\n        mostRecentKey,\r\n        setMostRecentKey,\r\n        getMostRecentKey,\r\n        getGoalSummary,\r\n        currentSummary,\r\n        setCurrentSummary,\r\n        currentDeadline, \r\n        setCurrentDeadline,\r\n        currentGoal,\r\n        setCurrentGoal,\r\n        pendingGoal,\r\n        setPendingGoal,\r\n        secondsRemaining,\r\n        setSecondsRemaining,\r\n        deleteGoal,\r\n        currentGoalId, \r\n        setCurrentGoalId,\r\n        hasPendingGoal,\r\n        setHasPendingGoal,\r\n        userHasGoals,\r\n        userGoalsLoading,\r\n        actions,\r\n        removeAction,\r\n        toggleActionComplete,\r\n        justOpenedGoal,\r\n        setJustOpenedGoal\r\n    }\r\n\r\n    return (\r\n        <GoalContext.Provider value={value}>\r\n            {children}\r\n        </GoalContext.Provider>\r\n    )\r\n}\r\n\r\nexport default GoalProvider\r\n","import React, {useState, useRef, useEffect} from 'react'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\nimport styles from '../../css/MobileNav.module.css'\r\nimport { Cross as Hamburger } from 'hamburger-react'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\n\r\nfunction MobileNav(props) {\r\n    const [expanded, setExpanded] = useState(false)\r\n    const wrapper = useRef(null)\r\n    const {authUser, signout} = useAuthContext()\r\n    const {setPendingGoal} = useGoalContext()\r\n    const navigate = useNavigate()\r\n\r\n    const handleClickOutside = (e) => {\r\n        if (wrapper.current && !wrapper.current.contains(e.target)) {\r\n            setExpanded(false)\r\n        }\r\n    }\r\n\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await signout()\r\n            setPendingGoal({})\r\n            navigate(\"/\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        props.setBluredState(expanded ? \"blured\" : \"clear\")\r\n        // props.setBluredState(\"clear\")\r\n    }, [expanded])\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"mousedown\", handleClickOutside)\r\n        return () => document.removeEventListener(\"mousedown\", handleClickOutside)\r\n    }, [wrapper])\r\n\r\n    return (\r\n        <nav className={styles.mobileNav} ref={wrapper}>\r\n            <div className={styles.topBar}>\r\n            {/* style={expanded ? {\"color\": \"var(--shade1)\"} : {\"color\": \"var(--shade3)\" }} */}\r\n                <h1 onClick={() => {setExpanded(false); navigate(\"/\")}}>uGoals</h1>\r\n                <div className={styles.hamburger}><Hamburger size={40} toggled={expanded} toggle={setExpanded}/></div>\r\n            </div>\r\n            \r\n            {expanded && <div className={`${styles.menu} ${expanded ? `${styles.slideout}` : `${styles.slidein}`}`} onClick={() => setExpanded(false)}>\r\n                {authUser &&<Link to=\"/account\">Account</Link>}\r\n                <Link to=\"/newgoal\">New goal</Link>\r\n                {authUser &&<Link to=\"/viewgoals\">View goals</Link>}\r\n                <Link to=\"/about\">About</Link> \r\n                {authUser ? <Link to=\"/signout\" onClick={handleSignOut}>Sign out</Link> : <Link to=\"/signin\">Sign In</Link>}            \r\n                {!authUser && <Link to=\"/signup\">Sign up</Link>}            \r\n            </div>}\r\n           \r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default MobileNav\r\n","import React from 'react'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\nimport styles from '../../css/DesktopNav.module.css'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\n\r\nfunction DesktopNav() {\r\n    const {authUser, signout} = useAuthContext()\r\n    const {setPendingGoal} = useGoalContext()\r\n    const navigate = useNavigate()\r\n    const handleSignOut = async () => {\r\n        try {\r\n            await signout()\r\n            setPendingGoal({})\r\n            navigate('/')\r\n        } catch (err) {\r\n            return -1\r\n        }\r\n    }\r\n    return (\r\n        \r\n        <nav className={styles.desktopNav}>\r\n            <div className={styles.logo}>\r\n                <Link to=\"/\"><h1>uGoals</h1></Link>\r\n            </div>\r\n            <div className={styles.links}>\r\n                <Link to=\"/newgoal\">New Goal</Link>\r\n                {authUser && <Link to=\"viewgoals\">View Goals</Link>}          \r\n                {authUser && <Link to=\"/\" onClick={() => handleSignOut()}>Sign out</Link>}            \r\n                {!authUser && <Link to=\"/signup\">Sign up</Link>} \r\n                <Link to=\"/about\">About</Link> \r\n                {authUser && <Link to=\"/account\">Account</Link> }\r\n            </div>\r\n        </nav>\r\n        \r\n    )\r\n}\r\n\r\nexport default DesktopNav\r\n","import React from 'react'\r\nimport styles from '../../css/About.module.css'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\n\r\nfunction About() {\r\n    const {authUser} = useAuthContext()\r\n    return (\r\n        <div className={styles.aboutPage}>\r\n            <p className={styles.about}><strong>uGoals</strong> is a goal-manager that increases your chances of success by guiding you through an ideal goal-setting process. The process is based on research conducted by Gail Matthews, a psychology professor at Dominican University.</p>\r\n            <p className={styles.about}><a className={styles.about} href=\"https://www.dominican.edu/sites/default/files/2020-02/gailmatthews-harvard-goals-researchsummary.pdf\" target=\"_blank\">Dr. Matthews found four factors</a> that boost the probability of achieving your goals:</p>\r\n            <ul className={styles.wide}>\r\n                <li>Writing your goals,</li>\r\n                <li>Creating action commitments,</li>\r\n                <li>Telling a friend, and</li>\r\n                <li>Sending progress updates.</li>\r\n            </ul>\r\n            <p className={styles.about}><strong>uGoals</strong> helps you along this process to maximize your chance of success.</p>\r\n            {authUser === null &&<a className={styles.signUp} href=\"/signup\">Get Started</a>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About\r\n","import React, {useEffect, useState} from 'react'\r\nimport styles from '../../css/CreateNewGoal.module.css'\r\nimport check from '../../images/check.png'\r\nimport {getRandomID} from '../../utils/ids'\r\n\r\nfunction ActionsForm(props) {\r\n    const [actionName, setActionName] = useState(\"\")\r\n    const [actionError, setActionError] = useState(false)\r\n\r\n    const handleActionChange = (e) => {\r\n        setActionError(false)\r\n        setActionName(e.target.value)\r\n    }\r\n\r\n    const addAction = () => {\r\n        const milliseconds = new Date().getTime()\r\n        if (actionName === \"\") {\r\n            return \r\n        } \r\n        for (let id of Object.keys(props.actions)) {\r\n            if (props.actions[id].name === actionName) {\r\n                setActionError(true)\r\n                return\r\n            }\r\n        }\r\n        let newAction = {\r\n                name: actionName, \r\n                number: Object.keys(props.actions).length,\r\n                createdAt: milliseconds\r\n            }\r\n        \r\n        props.setActions({...props.actions, [getRandomID()]: newAction})\r\n        setActionName(\"\")\r\n    }\r\n\r\n    const removeAction = (id) => {\r\n        for (let key of Object.keys(props.actions)) {\r\n            if (key === id) {\r\n                let newActionState = props.actions\r\n                delete newActionState[key]\r\n                props.setActions({...newActionState})\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.actions}>\r\n        \r\n            {Object.keys(props.actions).map(k => (\r\n                <div key={k} className={styles.row}>\r\n                    <label className={styles.saved}>{props.actions[k].name}</label>\r\n                    <input className={`${styles.icon} ${styles.x}`} type=\"button\" value=\"X\" onClick={() => removeAction(k)}></input>\r\n                </div>\r\n                \r\n            ))}\r\n\r\n            \r\n            {actionError && <label className=\"warn\">Action already exists</label>}\r\n            <div className={`${styles.row} ${styles.newAction}`}>\r\n                <input className={`${styles.actionField}`} type=\"text\" value={actionName} onChange={e => handleActionChange(e)} onKeyPress={e => {if (e.key === \"Enter\") {e.preventDefault(); addAction()}}}></input>\r\n                <p className={`${styles.icon} ${styles.plus}`} type=\"button\" value=\"+\" onClick={() => addAction()}>+</p>\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActionsForm\r\n","import React, {useState} from 'react'\r\nimport styles from '../../css/CreateNewGoal.module.css'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport { useEffect } from 'react/cjs/react.development'\r\n\r\nfunction GoalConfirmation(props) {\r\n\r\n    let navigate = useNavigate()\r\n\r\n    const {currentTitle, currentUsersGoals, currentSummary, setCurrentSummary, updateGoalSummary} = useGoalContext()\r\n\r\n    const handleClick = () => {\r\n        navigate(`../viewgoal/${currentTitle}`)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className={styles.confirmation}>\r\n            \r\n            <p>Your goal has been saved.</p>\r\n            <input className={styles.viewBtn} type=\"button\" value=\"View Goal\" onClick={() => handleClick()}></input>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default GoalConfirmation\r\n","export const roundToPointFive = (num) => {\r\n    num = Math.round(num * 10) / 10\r\n    if (!String(num).includes(\".\")) {\r\n        return num\r\n    }\r\n    let fractionalNum = Number(String(num).charAt(String(num).length - 1))\r\n    if (fractionalNum === 5) {\r\n        return num\r\n    } else if (fractionalNum < 3) {\r\n        num = Math.round(num)\r\n    } else if (fractionalNum < 8) {\r\n        num = Math.floor(num) + 0.5\r\n    } else {\r\n        num = Math.round(num)\r\n    }\r\n    return num\r\n}\r\n\r\nexport const roundToPointTwoFive = (num) => {\r\n    let res = num.toFixed(2)\r\n\r\n    let beforeDecimal = parseInt(Number(res).toFixed(0))\r\n    let afterDecimal = Number(res.substring(res.length, res.length - 2))\r\n\r\n    if (afterDecimal === 50 || afterDecimal === 25 || afterDecimal === 75 || afterDecimal === 0) {\r\n        return res\r\n    }\r\n  \r\n    if (afterDecimal < 13) {\r\n      afterDecimal = 0\r\n    } else if (afterDecimal < 38) {\r\n      afterDecimal = .25\r\n    } else if (afterDecimal < 63) {\r\n      afterDecimal = .50\r\n    } else if (afterDecimal < 88) {\r\n      afterDecimal = .75\r\n    } else {\r\n      afterDecimal = 0\r\n      beforeDecimal += 1\r\n    }\r\n  \r\n    return beforeDecimal + afterDecimal\r\n  }\r\n\r\nexport const getFraction = (dividend, divisor) => {\r\n    let decimalStr = (dividend / divisor).toFixed(2)\r\n    let fraction = (Number(decimalStr) * 100).toFixed()\r\n    return fraction + \"%\"\r\n}\r\n\r\n","import React, {useState} from 'react'\r\nimport styles from'../../css/SignupForm.module.css'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport {useGoalContext} from '../../context/GoalContext'\r\nimport { removeTrailingWhiteSpace } from '../../utils/strings'\r\nimport { errorPrefix } from '@firebase/util'\r\n\r\nfunction SignupForm() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const {signup} = useAuthContext()\r\n    const {pendingGoal, saveGoal, setHasPendingGoal, setPendingGoal} = useGoalContext()\r\n\r\n    const [firstName, setFirstName] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [emailError, setEmailError] = useState(false)\r\n    const [emailInUse, setEmailInUse] = useState(false)\r\n    const [passwordError, setPasswordError] = useState(false)\r\n    const [nameError, setNameError] = useState(false)\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if (removeTrailingWhiteSpace(firstName) === \"\") {\r\n            setNameError(true)\r\n            return\r\n        }\r\n        try {\r\n            const newUser = await signup(firstName, email, password)\r\n            if (Object.keys(pendingGoal).length > 0) {\r\n                await saveGoal(newUser.user.uid, pendingGoal, pendingGoal.title)\r\n                navigate(\"/goalconfirm\")\r\n                setHasPendingGoal(false)\r\n                setPendingGoal({})\r\n            } else {\r\n                navigate(\"/\")\r\n            }\r\n        } catch (error) {\r\n            switch (error.code) {\r\n                case \"auth/weak-password\":\r\n                    setPasswordError(true)\r\n                    break\r\n                case \"auth/email-already-in-use\":\r\n                    setEmailInUse(true)\r\n                    break\r\n                case \"auth/invalid-email\":\r\n                    setEmailError(true)\r\n                    break\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleChange = () => {\r\n        setEmailError(false)\r\n        setEmailInUse(false)\r\n        setNameError(false)\r\n        setPasswordError(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <form className={styles.form} onSubmit={e => handleSubmit(e)} onChange={() => handleChange()}>\r\n            {Object.keys(pendingGoal).length < 1 ? <label>Start here.</label> : <label>Sign up to save your goal.</label>}\r\n            {nameError && <p className=\"warn\">Please enter a name</p>}\r\n            <input placeholder=\"First name...\" type=\"text\" onChange={e => setFirstName(e.target.value)}></input>\r\n            {emailInUse && <p className=\"warn\">Email already in use.</p>}\r\n            {emailError && <p className=\"warn\">Invalid email.</p>}\r\n            <input placeholder=\"Email...\" type=\"text\" onChange={e => setEmail(e.target.value)}></input>\r\n            {passwordError && <p className=\"warn\">Password must be at least six characters</p>}\r\n            <input placeholder=\"Password...\" type=\"password\" onChange={e => setPassword(e.target.value)}></input>\r\n            {/* <input placeholder=\"Confirm password...\" type=\"password\"></input> */}\r\n            <input type=\"submit\" value=\"Sign Up\"></input>\r\n            <p className=\"subtext\">Already have an account? <Link className=\"subtext\" to=\"/signin\">Sign in</Link></p>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignupForm\r\n","import React, {useState, useEffect} from 'react'\r\nimport styles from '../../css/CreateNewGoal.module.css'\r\nimport ActionsForm from '../forms/ActionsForm'\r\nimport GoalConfirmation from './GoalConfirmation'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport {getDaysBetween, getCalendarComposition, dateStringToUS} from '../../utils/dates'\r\nimport {roundToPointFive, roundToPointTwoFive} from '../../utils/math'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport {getRandomID} from '../../utils/ids'\r\nimport { auth } from '../../config/firebase'\r\nimport SignupForm from '../forms/SignupForm'\r\n\r\nfunction CreateNewGoal() {\r\n\r\n    const {saveGoal, setCurrentSummary, setCurrentTitle, setPendingGoal, setHasPendingGoal} = useGoalContext()\r\n    const {authUser} = useAuthContext()\r\n\r\n    let navigate = useNavigate()\r\n\r\n    const [title, setTitle] = useState(\"\")\r\n    \r\n    const [currentNumber, setCurrentNumber] = useState(-1)\r\n    const [targetNumber, setTargetNumber] = useState(0)\r\n    const [showSignUp, setShowSignUp] = useState(false)\r\n    const [next, setNext] = useState(false)\r\n    const [savingGoal, setSavingGoal] = useState(false)\r\n\r\n    const [units, setUnits] = useState(\"\")\r\n    const [deadline, setDeadline] = useState(new Date().toLocaleDateString(\"en-ca\"))\r\n    const [daysTillDeadline, setDaysTillDeadline] = useState(0)\r\n    const [splitTime, setSplitTime] = useState(\"day\")\r\n    const [splitNumber, setSplitNumber] = useState(0)\r\n    const [dateError, setDateError] = useState(false)\r\n    const [actions, setActions] = useState({})\r\n\r\n    const totalNumber = targetNumber - currentNumber\r\n    const perPeriodSummary = (totalNumber === 0) ? `each ${splitTime} to maintain ${currentNumber} ${units} for ${getCalendarComposition(50)}` : `to achieve ${totalNumber > 0 ? \"an increase of\" : \"a decrease of\"} ${splitNumber} ${units} each ${splitTime}`\r\n\r\n    const [summary, setSummary] = useState(`Hi, I'm using uGoals to set research-backed goals. A key step is to send my goal and action steps to a peer. \\n\\nHere's my goal: I will ${title} by ${deadline}. To achieve this I will do ${perPeriodSummary}. I'll send you a quick progress update each ${splitTime}.`)\r\n\r\n    useEffect(() => [\r\n        setSummary(`Hi, I'm using uGoals to set research-backed goals. A key step is to send my goal and action steps to a peer. \\n\\nHere's my goal: I will ${title} by ${dateStringToUS(deadline)}. To achieve this I will do ${perPeriodSummary}. I'll send you a quick progress update each ${splitTime}.`)\r\n    ], [title, deadline, perPeriodSummary, splitTime])\r\n\r\n    const newGoal = {\r\n        title: title,\r\n        currentNumber: currentNumber,\r\n        targetNumber: targetNumber,\r\n        deadline: deadline,\r\n        splitTime: splitTime,\r\n        perPeriodSummary: perPeriodSummary,\r\n        actions: actions,\r\n        summary: summary,\r\n        complete: false\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        if(savingGoal) {\r\n            return\r\n        }\r\n        setSavingGoal(true)\r\n        e.preventDefault()\r\n        if (authUser === null) {\r\n            setHasPendingGoal(true)\r\n            setPendingGoal(newGoal)\r\n            setCurrentTitle(newGoal.title)\r\n            navigate('../signup')\r\n            return \r\n        }\r\n        try {\r\n            await saveGoal(authUser.uid, newGoal)\r\n            setCurrentTitle(title)\r\n            setCurrentSummary(summary)\r\n            setSavingGoal(false)\r\n            navigate(\"/goalconfirm\")\r\n        } catch (error) {\r\n            console.log('errror', error)\r\n        } \r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (daysTillDeadline > 21 && daysTillDeadline < 91 ) {\r\n            setSplitTime(\"week\")\r\n        } else if (daysTillDeadline > 91) {\r\n            setSplitTime(\"month\")\r\n        } else {\r\n            setSplitTime(\"day\")\r\n        }\r\n    }, [daysTillDeadline])\r\n    \r\n    useEffect(() => {\r\n\r\n        let tempNum = 0\r\n        switch (splitTime) {\r\n            case \"day\":\r\n                tempNum = totalNumber / daysTillDeadline\r\n                break\r\n            case \"week\":\r\n                tempNum = (totalNumber / daysTillDeadline) * 7\r\n                break\r\n            case \"month\":\r\n                tempNum = (totalNumber / daysTillDeadline) * 30\r\n                break \r\n        }\r\n        if (totalNumber > -10 && totalNumber <= 10) {\r\n            setSplitNumber(roundToPointTwoFive(tempNum))\r\n        } else {\r\n            setSplitNumber(roundToPointFive(tempNum))\r\n        }\r\n        \r\n    }, [totalNumber, splitTime, daysTillDeadline])\r\n\r\n    const handleDateChange = (e) => {\r\n        setDateError(false)\r\n        let currentDate = new Date()\r\n        if (getDaysBetween(currentDate, new Date(e.target.value)) < 0 ) {\r\n            setDateError(true)\r\n        } else {\r\n            setDaysTillDeadline(getDaysBetween(currentDate, new Date(e.target.value)))\r\n            setDeadline(e.target.value)\r\n        }\r\n    }\r\n\r\n \r\n\r\n    return (\r\n        <>\r\n        \r\n        <form className={styles.newGoalForm} onSubmit={e => handleSubmit(e)}>\r\n            \r\n            <div className={styles.section}>\r\n                <label>Create a measurable goal.</label>\r\n                <input autoFocus type=\"text\" placeholder=\"e.g. Increase revenue to $10,000/month\" onChange={e => setTitle(e.target.value)}></input>\r\n            </div>\r\n            {title && <div className={styles.row}>\r\n\r\n                <div className={styles.col}>\r\n                    <label>Current number:</label>\r\n                    <input type=\"number\" placeholder=\"e.g. 7,500\" onChange={e => setCurrentNumber(parseInt(e.target.value))}></input> \r\n                </div>\r\n                {currentNumber >= 0 && \r\n                <div className={styles.col}>\r\n                    <label>Target number:</label>\r\n                    <input type=\"number\" placeholder=\"e.g. 10,000\" onChange={e => setTargetNumber(parseInt(e.target.value))}></input> \r\n                </div>}\r\n\r\n            </div>}\r\n            {targetNumber > 0 && <div className={styles.section}>\r\n                <label>What is your unit of measurement?</label>\r\n                <input type=\"text\" placeholder=\"e.g. dollars, lbs, ...\" onChange={e => setUnits(e.target.value)}></input>\r\n            </div>}\r\n            {units && <div className={styles.section}>\r\n                <label>When is your deadline? {dateError && <p className=\"warn\">Invalid date</p>}</label>\r\n                <input type=\"date\" value={deadline} onChange={e => handleDateChange(e)}></input>\r\n            </div>}\r\n            {deadline != new Date().toLocaleDateString(\"en-ca\") && <div className={styles.section}>\r\n                <label>Next, make some action commitments. What will I do {perPeriodSummary}:</label>\r\n                <ActionsForm actions={actions} setActions={setActions}/>\r\n            </div>}\r\n            {Object.keys(actions).length > 0 && <div className={styles.section}>\r\n                {/* <label>Finally, save your goal:</label> */}\r\n                {!next && <input type=\"button\" value=\"Next\" onClick={() => setNext(true)}></input>}\r\n            </div>}\r\n            {next && <div className={styles.confirmation}>\r\n                <p >The next step is important. Copy your summary and send it to a friend through your preferred method...</p>\r\n                <textarea className={styles.summary} value={summary} onChange={e => setSummary(e.target.value)}></textarea>\r\n                <label>Finally, save your goal:</label>\r\n                <input className={styles.saveGoal} type=\"button\" value=\"Save goal\" onClick={(e) => handleSubmit(e)}></input>\r\n        </div>}\r\n            \r\n        </form>\r\n      </> \r\n    )\r\n}\r\n\r\nexport default CreateNewGoal\r\n","import React, {useState, useEffect, useRef, useCallback, useMemo} from 'react'\r\nimport styles from '../../css/ViewGoal.module.css'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport {useParams, useNavigate, useLocation, Link} from 'react-router-dom'\r\nimport {debounce} from 'lodash'\r\nimport { getRandomID } from '../../utils/ids'\r\nimport { getCurrentStart } from '../../utils/dates'\r\nimport { removeTrailingWhiteSpace } from '../../utils/strings'\r\n\r\nfunction ViewGoal(props) {\r\n\r\n    let params = useParams()\r\n    let navigate = useNavigate()\r\n\r\n    const {authUser} = useAuthContext()\r\n    const {pendingGoal, setPendingGoal, currentUsersGoals, setSecondsRemaining, currentGoalId, setCurrentGoalId, findGoalWithTitle, toggleGoalComplete, deleteGoal, removeAction, setJustOpenedGoal, actions, setActions} = useGoalContext()\r\n\r\n    const [currentTitle, setCurrentTitle] = useState(\"\")\r\n    const [currentSummary, setCurrentSummary] = useState(\"\")\r\n    const [currentActions, setCurrentActions] = useState({})\r\n    const [actionError, setActionError] = useState(false)\r\n    const [newAction, setNewAction] = useState(\"\")\r\n    const [loading, setLoading] = useState(true)\r\n    const [sortedActions, setSortedActions] = useState([])\r\n\r\n    let first = true\r\n\r\n    const handleSorting = () => {\r\n        let arr = []\r\n        for (let [key, value] of Object.entries(currentActions)) {\r\n            arr.push({id: key, name: value.name, createdAt: value.createdAt})\r\n        }\r\n        setSortedActions(sortByCreationTime(arr))\r\n    }\r\n\r\n    const sortByCreationTime = (arr) => {\r\n        for (let i = 1; i < arr.length; i++) {\r\n            let p = i\r\n            while (p > 0 && arr[p].createdAt < arr[p - 1].createdAt) {\r\n                let temp = arr[p - 1]\r\n                arr[p - 1] = arr[p]\r\n                arr[p] = temp\r\n                p--\r\n            }\r\n        }\r\n        return arr\r\n    }\r\n\r\n    const handleTitleChange = (title) => {\r\n        setJustOpenedGoal(false)\r\n        setCurrentTitle(title)\r\n        debouncedSaveTitle(title)\r\n    }\r\n\r\n\r\n    const handleDeadlineChange = (e) => {\r\n        setJustOpenedGoal(false)\r\n        setPendingGoal({...pendingGoal, deadline: e.target.value})\r\n    }\r\n\r\n    const handleSummaryChange = (e) => {\r\n        setJustOpenedGoal(false)\r\n        setCurrentSummary()\r\n        debouncedSaveSummary(e.target.value)\r\n\r\n    }\r\n\r\n    const toggleComplete = async (e) => {\r\n        try {\r\n            await toggleGoalComplete(authUser.uid, currentGoalId, pendingGoal.complete)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const handleGoalDelete = async () => {\r\n        try {\r\n            await deleteGoal(currentGoalId, pendingGoal.complete)\r\n            navigate(\"/viewgoals\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    const handleActionChange = (e, key) => {\r\n        setJustOpenedGoal(false)\r\n        setCurrentActions({...currentActions, [key]: {...currentActions[key], name: e.target.value}})\r\n        save(e, key)\r\n    }\r\n    \r\n    const save = useCallback(\r\n        debounce((e, key) => {\r\n            const newActions = {...pendingGoal.actions, [key]: {...pendingGoal.actions[key], name: e.target.value}}\r\n            // setPending(newActions)\r\n            setPendingGoal({...pendingGoal, actions: newActions})\r\n            setSecondsRemaining(2)\r\n        }, 500)\r\n        , [pendingGoal]\r\n    )\r\n\r\n    const debouncedSaveTitle = useCallback(\r\n        debounce((text) => {\r\n            setPendingGoal({...pendingGoal, title: text})\r\n            setSecondsRemaining(2)\r\n        }, 500)\r\n        , [pendingGoal]\r\n    )\r\n\r\n    const debouncedSaveSummary = useCallback(\r\n        debounce((text) => {\r\n            setPendingGoal({...pendingGoal, summary: text})\r\n            setSecondsRemaining(2)\r\n        }, 500)\r\n        , [pendingGoal]\r\n    )\r\n\r\n    const handleActionRemove = (key) => {\r\n        setJustOpenedGoal(false)\r\n        let copy = {...currentActions}\r\n        delete copy[key]\r\n        setCurrentActions(copy)\r\n        setPendingGoal({...pendingGoal, actions: copy})\r\n        removeAction(pendingGoal.splitTime, key)\r\n    }\r\n\r\n    const addAction = (e) => {\r\n        setJustOpenedGoal(false)\r\n        if (removeTrailingWhiteSpace(newAction).length === 0) {\r\n            return\r\n        }\r\n        for (let key of Object.keys(currentActions)) {\r\n            if (currentActions[key].name === newAction) {\r\n                setActionError(true)\r\n                return\r\n            }\r\n        }\r\n        let newActions = {...currentActions, [getRandomID()]: {\r\n            name: newAction,\r\n            number: Object.keys(currentActions).length,\r\n            createdAt: new Date().getTime()\r\n        }}\r\n        setCurrentActions(newActions)\r\n        setPendingGoal({...pendingGoal, actions: newActions})\r\n        setNewAction(\"\")\r\n        setSecondsRemaining(2)\r\n    }\r\n\r\n    useEffect(() => {\r\n    \r\n        if (first && currentUsersGoals && Object.keys(currentUsersGoals).length > 0){\r\n            Object.entries(currentUsersGoals).map(([k, v], i) => {\r\n                if (v.title === params.goalTitle) {\r\n                    setPendingGoal(v)\r\n                    setCurrentActions(v.actions)\r\n                    setCurrentGoalId(k)\r\n                    setCurrentTitle(v.title)\r\n                    setCurrentSummary(v.summary)\r\n                }\r\n            })\r\n            setLoading(false)\r\n            first = false\r\n        }\r\n    }, [currentUsersGoals])\r\n\r\n    useEffect(() => {\r\n        if (currentActions && Object.keys(currentActions).length > 0 && Object.keys(actions).length > 0 ) {\r\n            handleSorting()\r\n        }\r\n    }, [currentActions])\r\n\r\n    return (\r\n        <div className={styles.outer}>\r\n        <button className={styles.backBtn}><Link to=\"../viewgoals\">Back</Link></button>\r\n        {currentGoalId && <div className={styles.flexColumn}>\r\n\r\n            <div className={styles.row}>\r\n                <label>Title</label>\r\n                <textarea rows={1} value={currentTitle} onChange={e => handleTitleChange(e.target.value)}></textarea>\r\n            </div>\r\n\r\n            <div className={styles.row}>\r\n                <label>Deadline</label>\r\n                <input type=\"date\" value={pendingGoal.deadline || \"\"} onChange={e => {}}></input>\r\n            </div>\r\n\r\n            <div className={styles.actions}>\r\n\r\n            <label>Actions to achieve {\"\"}:\r\n            <ul className={styles.actions}>\r\n                {sortedActions && sortedActions.map((action, i) => (\r\n                   <div key={i} className={styles.row}>\r\n                    <input autoFocus={false} className={styles.fillFlex} type=\"text\" value={action.name} onChange={e => handleActionChange(e, action.id)}></input>\r\n                    <p className={styles.icon} onClick={() => handleActionRemove(action.id)}>X</p>\r\n                </div> \r\n                ))}\r\n \r\n            {actionError && <label className=\"warn\">Action already exists</label>}\r\n                <div className={styles.row}>\r\n                    <input autoFocus={false} className={styles.fillFlex} type=\"text\" value={newAction} onChange={e => {setActionError(false); setNewAction(e.target.value)}} onKeyPress={e => {if (e.key === \"Enter\") {e.preventDefault(); addAction(e)}}}></input>\r\n                    <p className={`${styles.icon} ${styles.plus}`} onClick={(e) => addAction(e)}>+</p>\r\n                </div>\r\n            </ul>\r\n            </label>\r\n\r\n            </div>\r\n\r\n            <div className={`${styles.completeRow} ${pendingGoal.complete ? `${styles.completed}` : `${styles.inProgress}`} `}>\r\n                <label>{pendingGoal.complete ? \"complete\" : \"In progress\"}</label>\r\n                <input className={styles.customCheckbox} type=\"checkbox\" checked={!!pendingGoal.complete} onChange={() => toggleComplete()}></input>\r\n            </div>\r\n\r\n            <label>Summary:</label>\r\n            <textarea className={styles.summary} value={currentSummary} onChange={e => handleSummaryChange(e)}></textarea>\r\n\r\n            <input className={styles.deleteBtn} type=\"button\" value=\"Delete Goal\" onClick={() => handleGoalDelete()}></input>\r\n\r\n        </div>}\r\n\r\n        {!currentGoalId && !loading && <>\r\n            <div className={styles.nOtFoUnD}>\r\n                <p className={styles.notFound}>404</p>\r\n                <p>Goal not found. Double check the URL.</p>\r\n            </div>\r\n\r\n        </>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewGoal\r\n","import React, {useState} from 'react'\r\nimport styles from '../css/GoalCard.module.css'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\nimport { useGoalContext } from '../context/GoalContext'\r\nimport { useAuthContext } from '../context/AuthContext'\r\nimport { dateStringToUS } from '../utils/dates'\r\nimport { useEffect } from 'react/cjs/react.development'\r\nimport { joinSpacedString } from '../utils/strings'\r\n\r\nfunction GoalCard(props) {\r\n\r\n    let navigate = useNavigate()\r\n\r\n    const {currentUsersGoals, setJustOpenedGoal, toggleGoalComplete} = useGoalContext()\r\n    const {authUser} = useAuthContext()\r\n\r\n    const handleViewGoal = () => {\r\n        setJustOpenedGoal(true)\r\n        navigate(`../viewgoal/${props.goal.title}`)\r\n    }\r\n\r\n    const cardStyle = {\r\n        \"animationDelay\": `${(props.index + 1) / 4}s`,\r\n    }\r\n\r\n    const toggleComplete = async (e) => {\r\n        try {\r\n            await toggleGoalComplete(authUser.uid, props.id, currentUsersGoals[props.id].complete)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        {currentUsersGoals && currentUsersGoals[props.id] &&\r\n        <div className={props.goal.complete ? `${styles.goalCard} ${styles.completeGoal}` : `${styles.goalCard}`} style={cardStyle}>\r\n            <div className={styles.row}>\r\n                <label>Title</label>\r\n                <p className={styles.title}>{props.goal.title}</p>\r\n            </div>\r\n            <div className={styles.row}>\r\n                <label>Deadline</label>\r\n                <p className={props.goal.complete ? `${styles.disabled}` : \"\"}>{props.goal.deadline}</p>\r\n            </div>\r\n            <div className={`${styles.complete}`}>\r\n                <label>{props.goal.complete ? \"Complete\" : \"In progress\"}</label>\r\n                <input className={styles.customCheckbox} type=\"checkbox\" checked={currentUsersGoals[props.id].complete} onChange={() => toggleComplete()}></input>\r\n            </div>\r\n            <div className={`${styles.row} ${styles.center}`}>\r\n                <input type=\"button\" value=\"View\" onClick={handleViewGoal}></input>\r\n            </div>\r\n        </div>\r\n        }\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default GoalCard\r\n","import React, {useState} from 'react'\r\nimport styles from '../../css/ViewGoals.module.css'\r\nimport GoalCard from '../GoalCard'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport { useEffect } from 'react'\r\n\r\nfunction ViewGoals() {\r\n\r\n    const {currentUsersGoals, userGoalsLoading} = useGoalContext()\r\n    const [animationDelay, setAnimationDelay] = useState(0.5)\r\n\r\n    const [sortedGoals, setSortedGoals] = useState([])\r\n\r\n    const handleSortGoals = () => {\r\n        let completed = []\r\n        let inProgress = []\r\n        for (let [key, value] of Object.entries(currentUsersGoals)) {\r\n            if (currentUsersGoals[key].complete) {\r\n                completed.push({id: key, ...value})\r\n            } else {\r\n                inProgress.push({id: key, ...value})\r\n            }\r\n        }\r\n       \r\n        setSortedGoals([...sortByCreationTime(inProgress), ...sortByCreationTime(completed)])\r\n    }\r\n\r\n    const sortByCreationTime = (arr) => {\r\n        for (let i = 1; i < arr.length; i++) {\r\n            let p = i\r\n            while (p > 0 && arr[p].createdAt < arr[p - 1].createdAt) {\r\n                let temp = arr[p - 1]\r\n                arr[p - 1] = arr[p]\r\n                arr[p] = temp\r\n                p--\r\n            }\r\n        }\r\n        return arr\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(currentUsersGoals)\r\n        if (currentUsersGoals && Object.keys(currentUsersGoals).length > 0) {\r\n            handleSortGoals()\r\n        }\r\n    }, [currentUsersGoals])\r\n\r\n    return (\r\n       <>\r\n        {sortedGoals.length > 0 && \r\n        <div className={styles.goalsSection}>\r\n            {sortedGoals.map((goal, i) => (\r\n                <GoalCard \r\n                    goal={goal}\r\n                    index={i}\r\n                    key={Math.random()}\r\n                    id={goal.id}\r\n                />\r\n            ))}\r\n        </div>}\r\n        \r\n        \r\n        {!userGoalsLoading && Object.keys(currentUsersGoals).length === 0 &&\r\n        <div className={styles.message}>\r\n            <p>No goals to show.</p>\r\n        </div>}\r\n       </> \r\n    )\r\n}\r\n\r\nexport default ViewGoals\r\n","import React, {useEffect, useState} from 'react'\r\nimport styles from '../../css/Account.module.css'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport {getFraction} from '../../utils/math'\r\n\r\n\r\nfunction Account() {\r\n\r\n    let navigate = useNavigate()\r\n  \r\n    const {authUser, userInfo, authLoading} = useAuthContext()\r\n  \r\n    const [date, setDate] = useState(null)\r\n    const [deleteStage, setDeleteStage] = useState(1)\r\n    const [editing, setEditing] = useState()\r\n    const [newUsername, setNewUsername] = useState()\r\n\r\n    const handleDeleteAccount = async () => {\r\n        navigate(\"../delete_account\")\r\n    }\r\n\r\n    return (\r\n        <div className={styles.account}>\r\n        {userInfo && <>\r\n        <h3>Account info:</h3>\r\n\r\n        <div className={styles.row}>\r\n            <label>Username: </label>\r\n            <p>{authUser?.displayName}</p>\r\n        </div>\r\n\r\n        <div className={styles.row}>\r\n            <label>Email:</label>\r\n            <p>{authUser?.email}</p>\r\n        </div>\r\n\r\n        <div className={styles.row}>\r\n            <label>Created on:</label>\r\n            <p>{new Date(Number(authUser.metadata.createdAt)).toLocaleDateString()}</p>\r\n        </div>\r\n\r\n        <div className={styles.row}>\r\n            <label>Goals created:</label>\r\n            {userInfo && <p>{userInfo.goalsCreated}</p>}\r\n        </div>\r\n\r\n        <div className={styles.row}>\r\n            <label>Goals completed:</label>\r\n            {userInfo && <p>{userInfo.goalsCompleted}</p>}\r\n        </div>\r\n\r\n        {userInfo && userInfo.goalsCreated > 0 && \r\n        <div className={styles.row}>\r\n            <label>Completion rate:</label>\r\n            <p>{getFraction(userInfo.goalsCompleted, userInfo.goalsCreated)}</p>\r\n        </div>}\r\n    \r\n        <div className={styles.col}>\r\n            {deleteStage === 1 ?\r\n            <input className=\"warn\" type=\"button\" value=\"Delete account\" onClick={()=>setDeleteStage(2)}></input>\r\n            :\r\n            <>\r\n            <label>Are you sure?</label>\r\n            <div className={styles.row}>\r\n                <input type=\"button\" className=\"gold\" onClick={() => setDeleteStage(1)} value=\"Cancel\"></input>\r\n                <input className=\"warn\" type=\"button\" onClick={e => handleDeleteAccount(e)} value=\"Delete\"></input>\r\n            </div>\r\n            </>\r\n            }\r\n        </div>\r\n        </>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Account\r\n","import React, {useState} from 'react'\r\nimport styles from '../css/LatestGoalCard.module.css'\r\nimport { useGoalContext } from '../context/GoalContext'\r\nimport { useEffect } from 'react/cjs/react.development'\r\nimport {dateStringToUS, getDaysBetween, getTimeRemaining} from '../utils/dates'\r\n\r\n\r\nfunction LatestGoalCard() {\r\n\r\n    const {mostRecentKey, currentTitle, currentUsersGoals} = useGoalContext()\r\n\r\n    return (\r\n        <>\r\n        {currentUsersGoals && mostRecentKey && currentUsersGoals[mostRecentKey] && Object.keys(currentUsersGoals).length > 0 &&\r\n        <div className={styles.latestGoalCard}>\r\n\r\n            <label className={styles.ribbon}>Latest...</label>\r\n\r\n            <div className={styles.row}>\r\n                <label>Title:</label>\r\n                <p>{currentUsersGoals[mostRecentKey].title }</p>\r\n            </div>\r\n\r\n            <div className={styles.row}>\r\n                <label>Due:</label>\r\n                <p>{dateStringToUS(currentUsersGoals[mostRecentKey].deadline)}</p>\r\n            </div>\r\n            \r\n            <div className={styles.row}>\r\n                <label>Each day:</label>\r\n            </div>\r\n                \r\n            <ul>\r\n            {Object.keys(currentUsersGoals[mostRecentKey].actions).map((key, i) => (\r\n                <li key={i}>{currentUsersGoals[mostRecentKey].actions[key].name}</li>\r\n            ))}\r\n            </ul>\r\n                \r\n            <div className={styles.row}>\r\n                <label>Days remaining:</label>\r\n                {currentUsersGoals[mostRecentKey] && <p className={styles.days}>{getDaysBetween(new Date(), new Date(currentUsersGoals[mostRecentKey].deadline))}</p>}\r\n            </div>\r\n            \r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LatestGoalCard\r\n","import React, {useState} from 'react'\r\nimport styles from '../../css/SigninForm.module.css'\r\nimport {Link, useNavigate} from 'react-router-dom'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\nimport { setPersistence } from '@firebase/auth'\r\n\r\nfunction SigninForm() {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const {authUser, signin} = useAuthContext()\r\n    const {pendingGoal, saveGoal, setPendingGoal, setHasPendingGoal} = useGoalContext()\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [emailError, setEmailError] = useState(false)\r\n    const [passwordError, setPasswordError] = useState(false)\r\n    const [showForgotPassword, setShowForgotPassword] = useState(false)\r\n    const [loginError, setLoginError] = useState(false)\r\n    \r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const newUser = await signin(email, password)\r\n            if (Object.keys(pendingGoal).length > 0) {\r\n                await saveGoal(newUser.user.uid, pendingGoal, pendingGoal.title)\r\n                setPendingGoal({})\r\n                setHasPendingGoal(false)\r\n                navigate('../goalconfirm')\r\n            }\r\n            navigate(\"/\")\r\n        } catch (error) {\r\n            if (error.code === \"auth/user-not-found\") {\r\n                setEmailError(true)\r\n            }\r\n            else if (error.code === \"auth/wrong-password\") {\r\n                setPasswordError(true)\r\n            }\r\n            else {\r\n                setLoginError(true)\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n    const handleChange = () => {\r\n        setLoginError(false)\r\n        setPasswordError(false)\r\n        setEmailError(false)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            \r\n            <form className={styles.form} onSubmit={e => handleLogin(e)} onChange={() => handleChange()}>\r\n                {Object.keys(pendingGoal).length > 0 && <label>Sign in to save your goal</label>}\r\n                {loginError && <p className=\"warn\">Error logging in.</p>}\r\n                {emailError && <p className=\"warn\">Email not found</p>}\r\n                <input placeholder=\"Email...\" type=\"text\" onChange={e => setEmail(e.target.value)}></input>\r\n                {passwordError && <p className=\"warn\">Incorrect password</p>}\r\n                <input placeholder=\"Password...\" type=\"password\" onChange={e => setPassword(e.target.value)}></input>\r\n                <input type=\"submit\" value=\"Sign In\"></input>\r\n                \r\n                <p className=\"subtext\">Don't have an account? <Link className=\"subtext\" to=\"/signup\">Sign up</Link></p>\r\n                {showForgotPassword && <p className={styles.subtext}>Forgot your password? <Link className={styles.subtext} to=\"/signup\">Reset</Link></p>}\r\n            </form>\r\n            </>\r\n    )\r\n}\r\n\r\nexport default SigninForm\r\n","import React, {useEffect} from 'react'\r\nimport styles from '../css/ActionsCard.module.css'\r\nimport { useGoalContext } from '../context/GoalContext'\r\nimport { getCurrentStart } from '../utils/dates'\r\n\r\nfunction ActionChecklistItem(props) {\r\n\r\n    const {toggleActionComplete} = useGoalContext()\r\n\r\n    const handleToggle = async () => {\r\n        try {\r\n            await toggleActionComplete(props.period, props.actionID, props.currentStart, props.complete)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input type=\"checkbox\" checked={props.complete} onChange={() => handleToggle()}></input>\r\n            <label>{props.name}</label>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActionChecklistItem\r\n","import React, {useState, useEffect} from 'react'\r\nimport styles from '../css/ActionsCard.module.css'\r\nimport {getMonthAndDay, getCurrentStart, dateInOneWeek, dateInOneMonth} from '../utils/dates'\r\nimport { useGoalContext } from '../context/GoalContext'\r\nimport ActionChecklistItem from './ActionChecklistItem'\r\n\r\n\r\n\r\nfunction ActionsCard(props) {\r\n\r\n    const {actions, toggleActionComplete} = useGoalContext()\r\n    const [today, setToday] = useState(\"\")\r\n    const [sortedActions, setSortedActions] = useState([])\r\n\r\n    const handleSorting = () => {\r\n        let completed = []\r\n        let inProgress = []\r\n        for (let [key, value] of Object.entries(props.data)) {\r\n            console.log(\"props.data[key]\", props.data[key])\r\n            console.log(\"props.period\", props.period)\r\n            console.log(\"getCurrentStart(props.data[key], props.period)\", getCurrentStart(props.data[key], props.period))\r\n            if (props.data[key][getCurrentStart(props.data[key], props.period)].complete) {\r\n                completed.push({id: key, ...value})\r\n            } else {\r\n                inProgress.push({id: key, ...value})\r\n            }\r\n        }\r\n        setSortedActions([...sortByCreationTime(inProgress), ...sortByCreationTime(completed)])\r\n    }\r\n\r\n    const sortByCreationTime = (arr) => {\r\n        console.log('sorting by creation', arr)\r\n        for (let i = 1; i < arr.length; i++) {\r\n            let p = i\r\n            while (p > 0 && arr[p].createdAt < arr[p - 1].createdAt) {\r\n                let temp = arr[p - 1]\r\n                arr[p - 1] = arr[p]\r\n                arr[p] = temp\r\n                p--\r\n            }\r\n        }\r\n        return arr\r\n    }\r\n\r\n\r\n    const getValue = (days) => {\r\n        if (days === \"day\") {\r\n            return new Date().toDateString().slice(0, -4)\r\n        } else if (days === \"week\") {\r\n            return `${getMonthAndDay(new Date().toDateString())} - ${getMonthAndDay(dateInOneWeek().toDateString())}`\r\n        } else {\r\n            return `${getMonthAndDay(new Date().toDateString())} - ${getMonthAndDay(dateInOneMonth().toDateString())}`\r\n        }\r\n    }\r\n\r\n    const handleToggle = async (k) => {\r\n        try {\r\n            await toggleActionComplete(props.period, k, today, props.data[k][new Date().toDateString()].complete)\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setToday(new Date().toDateString())\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(props.data).length > 0) {\r\n            console.log('props.data', props.data)\r\n            handleSorting()\r\n        }\r\n    }, [props.data])\r\n\r\n    return (\r\n        <>{\r\n        <div className={`${styles.card} card`}>\r\n            <div className={styles.top}>\r\n                <input type=\"button\" value={props.period === \"day\" ? \"Today\" : props.period === \"week\" ? \"This Week\" : \"This Month\"}></input>\r\n                <input readOnly type=\"text\" value={getValue(props.period)}></input>\r\n            </div>\r\n\r\n            <div className={styles.bottom}>\r\n            {sortedActions.map((obj, i) => (\r\n                <div className={styles.row} key={i}>\r\n                    <ActionChecklistItem \r\n                        name={obj.name}\r\n                        complete={obj[getCurrentStart(obj, props.period)].complete}\r\n                        actionID={obj.id}\r\n                        currentStart={getCurrentStart(obj, props.period)}\r\n                        period={props.period}\r\n                    />\r\n                </div>\r\n            ))}\r\n            </div>\r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ActionsCard\r\n","import {useEffect, useState} from 'react'\nimport './App.css';\nimport LatestGoalCard from './components/LatestGoalCard'\nimport SigninForm from './components/forms/SigninForm';\nimport { useAuthContext } from './context/AuthContext';\nimport { useGoalContext } from './context/GoalContext';\nimport {Link} from 'react-router-dom'\nimport DueCard from './components/ActionsCard';\nimport { getCurrentStart } from './utils/dates';\n\nfunction App() {\n  const {authUser, userInfo, authStateLoading} = useAuthContext()\n  const {currentUsersGoals, actions, saveGoal} = useGoalContext()\n  \n  return (\n    <>\n    {!authStateLoading && <>\n    <div className='homepage_top'>\n      {authUser !== null && <h2 className=\"welcome\">Welcome {authUser.displayName}</h2>}\n      </div>\n      <div className=\"homepage_bottom\">\n      <div className='crossbar'></div>\n      {authUser === null ? \n      <div className=\"signincard\">\n        <SigninForm />\n      </div> \n      :\n      <>\n      \n      {Object.keys(actions).map(key => {\n        if (Object.keys(actions[key]).length > 0) {\n          return (\n            <DueCard \n              period={key}\n              data={actions[key]}\n              key={key}\n            />\n          )\n        }\n      })}  \n      </>}\n\n      <div className=\"landingcard\">\n          {authUser === null ? <>\n          <h2 className=\"home\">Achieve your goals with research-backed goal setting.</h2>\n          <Link className=\"home\" id=\"learnMore\" to=\"/about\">Learn More</Link>\n          <Link className=\"home\" id=\"startNow\" to=\"/signup\">Start Now</Link>\n          </>\n          :\n          <>\n          \n          {userInfo && userInfo.goalsCreated > 0 && <Link className=\"home\" id=\"learnMore\" to=\"/viewgoals\">View your Goals</Link>}\n          {userInfo && userInfo.goalsCreated === 0 && <p className=\"pulse\">Create your first goal</p>}\n          <Link className=\"home\" id=\"startNow\" to=\"/newgoal\">New Goal +</Link>\n          </>}\n      </div>\n      \n    </div></>}\n    </>\n  );\n}\n\nexport default App;\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react/cjs/react.development'\r\nimport { useAuthContext } from '../../context/AuthContext'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\nimport {AuthCredential, deleteUser, EmailAuthCredential, EmailAuthProvider, reauthenticateWithCredential} from '@firebase/auth'\r\nimport {useNavigate} from 'react-router-dom'\r\nimport SigninForm from '../forms/SigninForm'\r\nimport styles from '../../css/AccountDeletionConfirmation.module.css'\r\nimport {auth, db} from '../../config/firebase'\r\n\r\nfunction AccountDeletionConfirmation() {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [accountDeleted, setAccountDeleted] = useState(false)\r\n    const [passwordError, setPasswordError] = useState(false)\r\n\r\n    const {deleteAccount, authUser, reAuthenticate} = useAuthContext()\r\n    const {setPendingGoal} = useGoalContext()\r\n    const [showSignIn, setShowSignIn] = useState(false)\r\n\r\n    let navigate = useNavigate()\r\n\r\n    const removeAccount = async () => {\r\n        try {\r\n            await deleteAccount(authUser.uid)\r\n            setAccountDeleted(true)\r\n            setShowSignIn(false)\r\n        } catch (error) {\r\n            setShowSignIn(true)\r\n            console.log('deleting error',error)\r\n        }\r\n    }\r\n\r\n    const handleReauthentication = async () => {\r\n        try {\r\n            await reAuthenticate(password)\r\n            await removeAccount()\r\n        } catch (error) {\r\n            setPasswordError(true)\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        removeAccount()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n        {showSignIn && <> \r\n        <form className={styles.reAuthenticate}>\r\n            <p>Please confirm account info:</p>\r\n            {passwordError && <p className=\"warn\">Incorrect password.</p>}\r\n            <input type=\"password\" placeholder=\"password\" value={password} onChange={(e) => {setPasswordError(false); setPassword(e.target.value)}}></input>\r\n            <input type=\"button\" value=\"Delete account\" onClick={() => handleReauthentication()}></input>\r\n        </form>\r\n        {/* <input className=\"warn\" type=\"button\" value=\"Delete\" onClick={() => removeAccount()}></input> */}\r\n        </>}\r\n        {accountDeleted && <div className={styles.confirm}>\r\n            <p>Your account has been deleted.</p> \r\n            <p>Come back anytime.</p>\r\n        </div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AccountDeletionConfirmation\r\n","import React from 'react'\r\nimport styles from '../css/Footer.module.css'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className={`${styles.footer}`}>\r\n            <div className={styles.col}>\r\n                <p>&#xA9; 2021</p>\r\n            </div>\r\n            \r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React, {useState} from 'react'\r\nimport { useEffect } from 'react/cjs/react.development'\r\nimport styles from '../css/Popup.module.css'\r\nimport check from '../images/check.png'\r\n\r\nfunction Popup({text}) {\r\n    \r\n    return (\r\n        <>\r\n        <p>{text}</p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Popup\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Routes, Route} from 'react-router-dom'\r\nimport MobileNav from './MobileNav'\r\nimport DesktopNav from './DesktopNav'\r\nimport About from '../pages/About'\r\nimport NewGoal from '../pages/CreateNewGoal'\r\nimport ViewGoal from '../pages/ViewGoal'\r\nimport ViewGoals from '../pages/ViewGoals'\r\nimport Account from '../pages/Account'\r\nimport App from '../../App'\r\nimport SigninForm from '../forms/SigninForm'\r\nimport SignupForm from '../forms/SignupForm'\r\nimport GoalConfirmation from '../pages/GoalConfirmation'\r\nimport AccountDeletionConfirmation from '../pages/AccountDeletionConfirmation'\r\nimport Footer from '../Footer'\r\nimport Popup from '../Popup'\r\nimport { useGoalContext } from '../../context/GoalContext'\r\n\r\n\r\nfunction Nav() {\r\n\r\n    const {secondsRemaining, setSecondsRemaining} = useGoalContext()\r\n\r\n    const mql = window.matchMedia(\"screen and (max-width: 770px)\")\r\n    const [mobile, setMobile] = useState(mql.matches)\r\n    const handleScreenResize = () => setMobile(mql.matches)\r\n\r\n    const [bluredState, setBluredState] = useState(\"clear\")\r\n\r\n    useEffect(() => {\r\n        mql.addEventListener('change', handleScreenResize)\r\n        return () => mql.removeEventListener('change', handleScreenResize)\r\n    }, [mql])\r\n\r\n    \r\n\r\n    return (\r\n        \r\n        <>\r\n            {mobile ? <MobileNav bluredState={bluredState} setBluredState={setBluredState} /> : <DesktopNav />}\r\n            {secondsRemaining > 0 && <div className=\"popup\">\r\n                <Popup text=\"Your changes have been saved.\"/>\r\n            </div>}\r\n            <div className={`middle ${bluredState}`}>\r\n            {/* <div className='crossbar'></div> */}\r\n            <Routes>\r\n                <Route path=\"/ugoals\" element={<App />} />\r\n                <Route path=\"/account\" element={<Account />} />\r\n                <Route path=\"/newgoal\" element={<NewGoal />} />\r\n                <Route path=\"/goalconfirm\" element={<GoalConfirmation />} />\r\n                <Route path=\"/viewgoal\" element={<ViewGoal />}>\r\n                    <Route path=\":goalTitle\" element={<ViewGoal />} />\r\n                </Route>\r\n                <Route path=\"/viewgoals\" element={<ViewGoals />} />\r\n                <Route path=\"/about\" element={<About />} />\r\n                <Route path=\"/signin\" element={<SigninForm />} />\r\n                <Route path=\"/signup\" element={<SignupForm />} />\r\n                <Route path=\"/delete_account\" element={<AccountDeletionConfirmation />} />\r\n            </Routes>\r\n            </div>\r\n        \r\n        <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Nav\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport {BrowserRouter} from 'react-router-dom'\nimport AuthProvider from './context/AuthContext'\nimport GoalProvider from './context/GoalContext'\nimport Nav from './components/nav/Nav'\nimport Footer from './components/Footer';\n\nReactDOM.render(\n  <AuthProvider>\n    <GoalProvider>\n      <BrowserRouter forceRefresh={true}>\n        <React.StrictMode>\n          <Nav />\n        </React.StrictMode>\n      </BrowserRouter>\n    </GoalProvider>\n  </AuthProvider>,\n  document.getElementById('root')\n\n);\n\n"],"sourceRoot":""}