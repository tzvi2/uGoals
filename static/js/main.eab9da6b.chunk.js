(this.webpackJsonpgoals_v6=this.webpackJsonpgoals_v6||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports={confirmation:"CreateNewGoal_confirmation__1QUPU",newGoalForm:"CreateNewGoal_newGoalForm__3K-NE",section:"CreateNewGoal_section__Lq1kb",row:"CreateNewGoal_row__2Y5s_",icon:"CreateNewGoal_icon__l9Yc_",plus:"CreateNewGoal_plus__3ouyC",actionField:"CreateNewGoal_actionField__3DHy2",left:"CreateNewGoal_left__2kSbG",centered:"CreateNewGoal_centered__2pyTx",summary:"CreateNewGoal_summary__NZ11H",btn:"CreateNewGoal_btn__1HnPg",viewBtn:"CreateNewGoal_viewBtn__26gGN",col:"CreateNewGoal_col__3Zo-_",saveGoal:"CreateNewGoal_saveGoal__3kHzi",x:"CreateNewGoal_x__tUbFm",newAction:"CreateNewGoal_newAction__11DCj"}},,,function(e,t,a){e.exports={outer:"ViewGoal_outer__20SBs",flexColumn:"ViewGoal_flexColumn__2LyrI",editButton:"ViewGoal_editButton__18QM0",row:"ViewGoal_row__3xj43",completeRow:"ViewGoal_completeRow__2o8yR",col:"ViewGoal_col__1HUzF",completed:"ViewGoal_completed__3AYrr",inProgress:"ViewGoal_inProgress__3xO5Y",wide:"ViewGoal_wide__LncMV",expanded:"ViewGoal_expanded__k0aUI",summary:"ViewGoal_summary__3xTrh",actions:"ViewGoal_actions__3tqtK",fillFlex:"ViewGoal_fillFlex__XHgiq",icon:"ViewGoal_icon__1JVjS",plus:"ViewGoal_plus__3hDLu",section:"ViewGoal_section__2MoEu",deleteBtn:"ViewGoal_deleteBtn__2Fr6a",backBtn:"ViewGoal_backBtn__2X1n4",nOtFoUnD:"ViewGoal_nOtFoUnD__1UQQQ",notFound:"ViewGoal_notFound__379fO",flash:"ViewGoal_flash__18-xc"}},,,,,,,function(e,t,a){e.exports={goalCard:"GoalCard_goalCard__2zt7Z",completeGoal:"GoalCard_completeGoal__1E9YN",row:"GoalCard_row__j__SB",disabled:"GoalCard_disabled__3oocM",title:"GoalCard_title__3sjq3",center:"GoalCard_center__3jxb_",complete:"GoalCard_complete__iwMDI",customCheckbox:"GoalCard_customCheckbox__1eCnZ",slidein:"GoalCard_slidein__1qS6n"}},,,function(e,t,a){e.exports={account:"Account_account__22JDJ",row:"Account_row__1BuB8",col:"Account_col__25Tp8",gold:"Account_gold__13Wvn"}},,function(e,t,a){e.exports={aboutPage:"About_aboutPage__2mLiL",about:"About_about__3xfqI",wide:"About_wide__TLcH9",signUp:"About_signUp__2_eIU"}},function(e,t,a){},function(e,t,a){e.exports={mobileNav:"MobileNav_mobileNav__2q0R4",topBar:"MobileNav_topBar__3wnhP",hamburger:"MobileNav_hamburger__3b8Z4",menu:"MobileNav_menu___FmbZ",slidein:"MobileNav_slidein__mgCas",slideout:"MobileNav_slideout__WfE71"}},,,function(e,t,a){e.exports={card:"ActionsCard_card__3XBHi",top:"ActionsCard_top__3HLyE",bottom:"ActionsCard_bottom__z2tR5",row:"ActionsCard_row__t0tR1"}},,,,,function(e,t,a){e.exports={desktopNav:"DesktopNav_desktopNav__388H_",links:"DesktopNav_links__5In6W"}},,function(e,t,a){e.exports={form:"SigninForm_form__3UfWe"}},,,function(e,t,a){e.exports={goalsSection:"ViewGoals_goalsSection__2ux6M",message:"ViewGoals_message__3Pusq"}},function(e,t,a){e.exports={reAuthenticate:"AccountDeletionConfirmation_reAuthenticate__dbMf_",confirm:"AccountDeletionConfirmation_confirm__19RmY"}},function(e,t,a){e.exports={footer:"Footer_footer__Kdcd0"}},,,,,function(e,t,a){e.exports={form:"SignupForm_form__AdNRA"}},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),r=a(50),s=a.n(r),o=(a(58),a(15)),i=a(0),u=a.n(i),l=a(2),j=a(8),b=a(51),d=a(52),O=a(12),p=Object(b.a)({apiKey:"AIzaSyBe8EcLGZMlkW1DRQQb6W61AKtzEFE8oVc",authDomain:"goalsapp-beaf7.firebaseapp.com",databaseURL:"https://goalsapp-beaf7-default-rtdb.firebaseio.com",projectId:"goalsapp-beaf7",storageBucket:"goalsapp-beaf7.appspot.com",messagingSenderId:"543677480965",appId:"1:543677480965:web:d17a2b4ac2752e97ee9c6c"}),h=Object(O.d)(p),f=Object(d.a)(p),m=a(25),x=a(1),g=c.a.createContext(),v=function(){return Object(n.useContext)(g)};var w=function(e){var t=e.children,a=Object(n.useState)(),c=Object(j.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(!0),i=Object(j.a)(o,2),b=i[0],d=(i[1],Object(n.useState)(!0)),p=Object(j.a)(d,2),v=p[0],w=p[1],_=Object(n.useState)(null),y=Object(j.a)(_,2),N=y[0],k=y[1],S=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.b)(f,a,n);case 2:return c=e.sent,e.next=5,Object(m.h)(f.currentUser,{displayName:t});case 5:return e.next=7,Object(O.h)(Object(O.b)(h,"users",c.user.uid),{goalsCreated:0,goalsCompleted:0});case 7:return e.next=9,Object(O.h)(Object(O.b)(h,"actions",c.user.uid),{day:{},week:{},month:{}});case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.f)(f,t,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m.g)(f));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.a.credential(r.email,t),e.next=3,Object(m.e)(r,a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=f.onAuthStateChanged((function(e){s(e)}));return function(){return e()}}),[]),Object(n.useEffect)((function(){if((r||null===r)&&w(!1),r){var e=Object(O.f)(Object(O.b)(h,"users",r.uid),(function(e){k(e.data()),w(!1)}));return function(){return e()}}}),[r]);var F={authUser:r,signup:S,signin:C,signout:G,userInfo:N,setUserInfo:k,authLoading:b,deleteAccount:D,authStateLoading:v,reAuthenticate:A};return Object(x.jsx)(g.Provider,{value:F,children:t})},_=a(9),y=a(5),N=a(13),k=function(){for(var e="",t=Math.floor(7*Math.random()+4),a=Math.floor(3*Math.random()+1),n=0;n<t;n++){var c=Math.floor(2*Math.random()+1),r=Math.floor(43*Math.random()+48),s=Math.floor(32*Math.random()+94);e+=1===c?String.fromCharCode(r):String.fromCharCode(s)}for(var o=1;o<a+1;o++){var i=Math.floor(2*Math.random()+1),u=Math.floor(43*Math.random()+48),l=Math.floor(32*Math.random()+94);e+=1===i?String.fromCharCode(u):String.fromCharCode(l)}return e},S=function(e){for(var t=e.length;" "===e[t-1];)t--;return e.substring(0,t)},C=function(e,t){return Math.round((t.getTime()-e.getTime())/864e5)},G=function(e){var t=parseInt(e.substring(8)),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][Number(e.substring(5,7))-1],n=e.substring(0,4);return"".concat(a," ").concat(t,", ").concat(n)},D=function(e,t){e=new Date(e);var a=[],n=new Date;if("day"===t)for(var c=0;c<=C(n,e);c++){var r=new Date(n);r.setDate(r.getDate()+c),a.push(r.toDateString())}else if("week"===t)for(;n.getTime()<=e.getTime();)a.push(n.toDateString()),n.setDate(n.getDate()+7);else for(;n.getTime()<=e.getTime();)a.push(n.toDateString()),n.setDate(n.getDate()+30);return a},A=function(e){return e.slice(4,10)},F=function(e,t){var a=new Date;if("day"===t)return a.toDateString();if("week"===t)for(var n=0;n<7;n++){if(a.setDate(a.getDate()-n),e[a.toDateString()])return a.toDateString();a=new Date}else for(var c=0;c<30;c++){if(a.setDate(a.getDate()-c),e[a.toDateString()])return a.toDateString();a=new Date}},M=c.a.createContext(),I=function(){return Object(n.useContext)(M)};var E=function(e){var t=e.children,a=v(),c=a.authUser,r=(a.userInfo,Object(n.useState)(null)),s=Object(j.a)(r,2),o=s[0],i=s[1],b=Object(n.useState)(""),d=Object(j.a)(b,2),p=d[0],f=d[1],m=Object(n.useState)(""),g=Object(j.a)(m,2),w=g[0],C=g[1],G=Object(n.useState)(""),A=Object(j.a)(G,2),F=A[0],I=A[1],E=Object(n.useState)(),T=Object(j.a)(E,2),U=T[0],P=T[1],V=Object(n.useState)(""),B=Object(j.a)(V,2),L=B[0],R=B[1],H=Object(n.useState)({}),W=Object(j.a)(H,2),J=W[0],q=W[1],K=Object(n.useState)({}),Y=Object(j.a)(K,2),z=Y[0],Q=Y[1],Z=Object(n.useState)(0),X=Object(j.a)(Z,2),$=X[0],ee=X[1],te=Object(n.useState)(!0),ae=Object(j.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(!1),se=Object(j.a)(re,2),oe=se[0],ie=se[1],ue=Object(n.useState)({day:{},week:{},month:{}}),le=Object(j.a)(ue,2),je=le[0],be=le[1],de=Object(n.useState)(!0),Oe=Object(j.a)(de,2),pe=Oe[0],he=Oe[1],fe=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.title=S(a.title),e.next=3,Object(O.h)(Object(O.b)(h,"goals",t),Object(y.a)({},"".concat(k()),Object(N.a)(Object(N.a)({},a),{},{createdAt:Object(O.g)()})),{merge:!0});case 3:return n=e.sent,c=Object(O.b)(h,"users",t),e.next=7,Object(O.i)(c,{goalsCreated:Object(O.e)(1)});case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.b)(h,"goals",t),e.next=3,Object(O.c)(a);case 3:if(!(n=e.sent).exists()){e.next=8;break}return e.abrupt("return",n.data());case 8:return console.log("error getting data"),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.b)(h,"goals",t),e.next=3,Object(O.c)(n);case 3:if(!(c=e.sent).exists()){e.next=6;break}return e.abrupt("return",c.data()[a]);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ge=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(O.b)(h,"goals",t),r=Object(O.b)(h,"users",t),e.next=4,Object(O.i)(c,Object(y.a)({},"".concat(a,".complete"),!n));case 4:return e.next=6,Object(O.i)(r,{goalsCompleted:Object(O.e)("".concat(n?-1:1))});case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(u.a.mark((function e(t,a,n,r){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(O.b)(h,"actions",c.uid),(o={})["".concat(t,".").concat(a,".").concat(n,".complete")]=!r,e.next=5,Object(O.i)(s,o);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),we=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.b)(h,"goals",c.uid),e.next=3,Object(O.i)(n,Object(y.a)({},"".concat(t,".summary"),a));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(e){for(var t=0,a="",n=0,c=Object.keys(o);n<c.length;n++){var r=c[n];o&&o[r].createdAt&&o[r].createdAt.seconds>t&&(t=o[r].createdAt.seconds,a=r)}return a},ye=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(O.b)(h,"goals",c.uid),e.next=3,Object(O.c)(a);case 3:if(!(n=e.sent).exists()){e.next=8;break}return e.abrupt("return",n.data().summary);case 8:console.log("error getting summary.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ge(t),n=Object(O.b)(h,"goals",c.uid),e.next=4,Object(O.i)(n,Object(y.a)({},"".concat(t),Object(O.a)()));case 4:if(r=Object(O.b)(h,"users",c.uid),!a){e.next=10;break}return e.next=8,Object(O.i)(r,{goalsCreated:Object(O.e)(-1),goalsCompleted:Object(O.e)(-1)});case 8:e.next=12;break;case 10:return e.next=12,Object(O.i)(r,{goalsCreated:Object(O.e)(-1)});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(O.b)(h,"goals",c.uid),e.next=3,Object(O.i)(t,Object(y.a)({},"".concat(p),z));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(l.a)(u.a.mark((function e(){var t,a,n,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a=je,n=!1,r=Object(O.b)(h,"actions",c.uid),e.next=6,Object(O.c)(r);case 6:if((s=e.sent).exists()&&(t=s.data()),Object.entries(o).forEach((function(e){var c=Object(j.a)(e,2),r=c[0],s=c[1];Object.entries(o[r].actions).forEach((function(e){var c=Object(j.a)(e,2),o=c[0],i=c[1];if(!t[s.splitTime][o]){n=!0,a[s.splitTime][o]={name:i.name,createdAt:i.createdAt,goal:r};var u,l=Object(_.a)(D(s.deadline,s.splitTime));try{for(l.s();!(u=l.n()).done;){var b=u.value;a[s.splitTime][o][b]={complete:!1}}}catch(d){l.e(d)}finally{l.f()}}}))})),!n){e.next=13;break}return i=Object(O.b)(h,"actions",c.uid),e.next=13,Object(O.h)(i,a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(l.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.b)(h,"actions",c.uid),e.next=3,Object(O.i)(n,Object(y.a)({},"".concat(t,".").concat(a),Object(O.a)()));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=je,n=0,r=Object.keys(o[t].actions);n<r.length;n++)s=r[n],delete a[o[t].splitTime][s];return i=Object(O.b)(h,"actions",c.uid),e.next=5,Object(O.i)(i,a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){c&&Object.keys(z).length>0&&!pe&&ke()}),[z]),Object(n.useEffect)((function(){if(c){var e=Object(O.f)(Object(O.b)(h,"goals",c.uid),(function(e){e.data()&&i(e.data())})),t=Object(O.f)(Object(O.b)(h,"actions",c.uid),(function(e){!function(e){if(e){var t={};t.day=e.day,t.week=e.week,t.month=e.month,be(t)}}(e.data())}));return function(){e(),t()}}}),[c]),Object(n.useEffect)((function(){console.log("currentUsersGoals",o),o&&ce(!1),o&&Object.keys(o).length>0&&(R(_e()),Se())}),[o]),Object(n.useEffect)((function(){J&&Object.keys(J).length>0&&Q(J)}),[J]),Object(n.useEffect)((function(){if($>0){var e=setTimeout((function(){ee($-1)}),1e3);return function(){return clearTimeout(e)}}}),[$]);var De={currentUsersGoals:o,setCurrentUsersGoals:i,saveGoal:fe,getGoals:me,toggleGoalComplete:ge,updateGoalSummary:we,getGoal:xe,setCurrentTitle:C,currentTitle:w,mostRecentKey:L,setMostRecentKey:R,getMostRecentKey:_e,getGoalSummary:ye,currentSummary:F,setCurrentSummary:I,currentDeadline:U,setCurrentDeadline:P,currentGoal:J,setCurrentGoal:q,pendingGoal:z,setPendingGoal:Q,secondsRemaining:$,setSecondsRemaining:ee,deleteGoal:Ne,currentGoalId:p,setCurrentGoalId:f,hasPendingGoal:oe,setHasPendingGoal:ie,userHasGoals:function(){return Object.keys(o).length>0},userGoalsLoading:ne,actions:je,removeAction:Ce,toggleActionComplete:ve,justOpenedGoal:pe,setJustOpenedGoal:he};return Object(x.jsx)(M.Provider,{value:De,children:t})},T=a(14),U=a(33),P=a.n(U),V=a(67);var B=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useRef)(null),i=v(),b=i.authUser,d=i.signout,O=I().setPendingGoal,p=Object(T.f)(),h=function(e){s.current&&!s.current.contains(e.target)&&r(!1)},f=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:O({}),p("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){e.setBluredState(c?"blured":"clear")}),[c]),Object(n.useEffect)((function(){return document.addEventListener("mousedown",h),function(){return document.removeEventListener("mousedown",h)}}),[s]),Object(x.jsxs)("nav",{className:P.a.mobileNav,ref:s,children:[Object(x.jsxs)("div",{className:P.a.topBar,children:[Object(x.jsx)("h1",{onClick:function(){r(!1),p("/")},children:"uGoals"}),Object(x.jsx)("div",{className:P.a.hamburger,children:Object(x.jsx)(V.a,{size:40,toggled:c,toggle:r})})]}),c&&Object(x.jsxs)("div",{className:"".concat(P.a.menu," ").concat("".concat(c?P.a.slideout:P.a.slidein)),onClick:function(){return r(!1)},children:[b&&Object(x.jsx)(o.b,{to:"/account",children:"Account"}),Object(x.jsx)(o.b,{to:"/newgoal",children:"New goal"}),b&&Object(x.jsx)(o.b,{to:"/viewgoals",children:"View goals"}),Object(x.jsx)(o.b,{to:"/about",children:"About"}),b?Object(x.jsx)(o.b,{to:"/signout",onClick:f,children:"Sign out"}):Object(x.jsx)(o.b,{to:"/signin",children:"Sign In"}),!b&&Object(x.jsx)(o.b,{to:"/signup",children:"Sign up"})]})]})},L=a(41),R=a.n(L);var H=function(){var e=v(),t=e.authUser,a=e.signout,n=I().setPendingGoal,c=Object(T.f)(),r=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:n({}),c("/"),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",-1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("nav",{className:R.a.desktopNav,children:[Object(x.jsx)("div",{className:R.a.logo,children:Object(x.jsx)(o.b,{to:"/",children:Object(x.jsx)("h1",{children:"uGoals"})})}),Object(x.jsxs)("div",{className:R.a.links,children:[Object(x.jsx)(o.b,{to:"/newgoal",children:"New Goal"}),t&&Object(x.jsx)(o.b,{to:"viewgoals",children:"View Goals"}),t&&Object(x.jsx)(o.b,{to:"/",onClick:function(){return r()},children:"Sign out"}),!t&&Object(x.jsx)(o.b,{to:"/signup",children:"Sign up"}),Object(x.jsx)(o.b,{to:"/about",children:"About"}),t&&Object(x.jsx)(o.b,{to:"/account",children:"Account"})]})]})},W=a(31),J=a.n(W);var q=function(){var e=v().authUser;return Object(x.jsxs)("div",{className:J.a.aboutPage,children:[Object(x.jsxs)("p",{className:J.a.about,children:[Object(x.jsx)("strong",{children:"uGoals"})," is a goal-manager that increases your chances of success by guiding you through an ideal goal-setting process. The process is based on research conducted by Gail Matthews, a psychology professor at Dominican University."]}),Object(x.jsxs)("p",{className:J.a.about,children:[Object(x.jsx)("a",{className:J.a.about,href:"https://www.dominican.edu/sites/default/files/2020-02/gailmatthews-harvard-goals-researchsummary.pdf",target:"_blank",children:"Dr. Matthews found four factors"})," that boost the probability of achieving your goals:"]}),Object(x.jsxs)("ul",{className:J.a.wide,children:[Object(x.jsx)("li",{children:"Writing your goals,"}),Object(x.jsx)("li",{children:"Creating action commitments,"}),Object(x.jsx)("li",{children:"Telling a friend, and"}),Object(x.jsx)("li",{children:"Sending progress updates."})]}),Object(x.jsxs)("p",{className:J.a.about,children:[Object(x.jsx)("strong",{children:"uGoals"})," helps you along this process to maximize your chance of success."]}),null===e&&Object(x.jsx)("a",{className:J.a.signUp,href:"/signup",children:"Get Started"})]})},K=a(16),Y=a.n(K);var z=function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),o=Object(j.a)(s,2),i=o[0],u=o[1],l=function(){var t=(new Date).getTime();if(""!==c){for(var a=0,n=Object.keys(e.actions);a<n.length;a++){var s=n[a];if(e.actions[s].name===c)return void u(!0)}var o={name:c,number:Object.keys(e.actions).length,createdAt:t};e.setActions(Object(N.a)(Object(N.a)({},e.actions),{},Object(y.a)({},k(),o))),r("")}};return Object(x.jsxs)("div",{className:Y.a.actions,children:[Object.keys(e.actions).map((function(t){return Object(x.jsxs)("div",{className:Y.a.row,children:[Object(x.jsx)("label",{className:Y.a.saved,children:e.actions[t].name}),Object(x.jsx)("input",{className:"".concat(Y.a.icon," ").concat(Y.a.x),type:"button",value:"X",onClick:function(){return function(t){for(var a=0,n=Object.keys(e.actions);a<n.length;a++){var c=n[a];if(c===t){var r=e.actions;delete r[c],e.setActions(Object(N.a)({},r))}}}(t)}})]},t)})),i&&Object(x.jsx)("label",{className:"warn",children:"Action already exists"}),Object(x.jsxs)("div",{className:"".concat(Y.a.row," ").concat(Y.a.newAction),children:[Object(x.jsx)("input",{className:"".concat(Y.a.actionField),type:"text",value:c,onChange:function(e){return function(e){u(!1),r(e.target.value)}(e)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),Object(x.jsx)("p",{className:"".concat(Y.a.icon," ").concat(Y.a.plus),type:"button",value:"+",onClick:function(){return l()},children:"+"})]})]})},Q=a(28);var Z=function(e){var t=Object(T.f)(),a=I(),n=a.currentTitle;return a.currentUsersGoals,a.currentSummary,a.setCurrentSummary,a.updateGoalSummary,Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:Y.a.confirmation,children:[Object(x.jsx)("p",{children:"Your goal has been saved."}),Object(x.jsx)("input",{className:Y.a.viewBtn,type:"button",value:"View Goal",onClick:function(){t("../viewgoal/".concat(n))}})]})})},X=function(e,t){var a=(e/t).toFixed(2);return(100*Number(a)).toFixed()+"%"},$=a(53),ee=a.n($);a(7);var te=function(){var e=Object(T.f)(),t=v().signup,a=I(),c=a.pendingGoal,r=a.saveGoal,s=a.setHasPendingGoal,i=a.setPendingGoal,b=Object(n.useState)(""),d=Object(j.a)(b,2),O=d[0],p=d[1],h=Object(n.useState)(""),f=Object(j.a)(h,2),m=f[0],g=f[1],w=Object(n.useState)(""),_=Object(j.a)(w,2),y=_[0],N=_[1],k=Object(n.useState)(!1),C=Object(j.a)(k,2),G=C[0],D=C[1],A=Object(n.useState)(!1),F=Object(j.a)(A,2),M=F[0],E=F[1],U=Object(n.useState)(!1),P=Object(j.a)(U,2),V=P[0],B=P[1],L=Object(n.useState)(!1),R=Object(j.a)(L,2),H=R[0],W=R[1],J=function(){var a=Object(l.a)(u.a.mark((function a(n){var o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),""!==S(O)){a.next=4;break}return W(!0),a.abrupt("return");case 4:return a.prev=4,a.next=7,t(O,m,y);case 7:if(o=a.sent,!(Object.keys(c).length>0)){a.next=16;break}return a.next=11,r(o.user.uid,c,c.title);case 11:e("/goalconfirm"),s(!1),i({}),a.next=17;break;case 16:e("/");case 17:a.next=30;break;case 19:a.prev=19,a.t0=a.catch(4),a.t1=a.t0.code,a.next="auth/weak-password"===a.t1?24:"auth/email-already-in-use"===a.t1?26:"auth/invalid-email"===a.t1?28:30;break;case 24:return B(!0),a.abrupt("break",30);case 26:return E(!0),a.abrupt("break",30);case 28:return D(!0),a.abrupt("break",30);case 30:case"end":return a.stop()}}),a,null,[[4,19]])})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:ee.a.form,onSubmit:function(e){return J(e)},onChange:function(){return D(!1),E(!1),W(!1),void B(!1)},children:[Object.keys(c).length<1?Object(x.jsx)("label",{children:"Start here."}):Object(x.jsx)("label",{children:"Sign up to save your goal."}),H&&Object(x.jsx)("p",{className:"warn",children:"Please enter a name"}),Object(x.jsx)("input",{placeholder:"First name...",type:"text",onChange:function(e){return p(e.target.value)}}),M&&Object(x.jsx)("p",{className:"warn",children:"Email already in use."}),G&&Object(x.jsx)("p",{className:"warn",children:"Invalid email."}),Object(x.jsx)("input",{placeholder:"Email...",type:"text",onChange:function(e){return g(e.target.value)}}),V&&Object(x.jsx)("p",{className:"warn",children:"Password must be at least six characters"}),Object(x.jsx)("input",{placeholder:"Password...",type:"password",onChange:function(e){return N(e.target.value)}}),Object(x.jsx)("input",{type:"submit",value:"Sign Up"}),Object(x.jsxs)("p",{className:"subtext",children:["Already have an account? ",Object(x.jsx)(o.b,{className:"subtext",to:"/signin",children:"Sign in"})]})]})})};var ae=function(){var e=I(),t=e.saveGoal,a=e.setCurrentSummary,c=e.setCurrentTitle,r=e.setPendingGoal,s=e.setHasPendingGoal,o=v().authUser,i=Object(T.f)(),b=Object(n.useState)(""),d=Object(j.a)(b,2),O=d[0],p=d[1],h=Object(n.useState)(-1),f=Object(j.a)(h,2),m=f[0],g=f[1],w=Object(n.useState)(0),_=Object(j.a)(w,2),y=_[0],N=_[1],k=Object(n.useState)(!1),S=Object(j.a)(k,2),D=(S[0],S[1],Object(n.useState)(!1)),A=Object(j.a)(D,2),F=A[0],M=A[1],E=Object(n.useState)(!1),U=Object(j.a)(E,2),P=U[0],V=U[1],B=Object(n.useState)(""),L=Object(j.a)(B,2),R=L[0],H=L[1],W=Object(n.useState)((new Date).toLocaleDateString("en-ca")),J=Object(j.a)(W,2),q=J[0],K=J[1],Q=Object(n.useState)(0),Z=Object(j.a)(Q,2),X=Z[0],$=Z[1],ee=Object(n.useState)("day"),te=Object(j.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(0),re=Object(j.a)(ce,2),se=re[0],oe=re[1],ie=Object(n.useState)(!1),ue=Object(j.a)(ie,2),le=ue[0],je=ue[1],be=Object(n.useState)({}),de=Object(j.a)(be,2),Oe=de[0],pe=de[1],he=y-m,fe=0===he?"each ".concat(ae," to maintain ").concat(m," ").concat(R," for ").concat(function(e){for(var t=0,a=0,n=0,c=0;e>364;)t+=1,e-=365;for(;e>29;)a+=1,e-=30;for(;e>6;)n+=1,e-=7;for(;e>0;)c+=1,e-=1;var r=0===t?"":1===t?"1 year":"".concat(t," years"),s=0===a?"":1===a?"1 month":"".concat(a," months"),o=0===n?"":1===n?"1 week":"".concat(n," weeks"),i=0===c?"":1===c?"1 day":"".concat(c," days");return"".concat(r," ").concat(s," ").concat(o," ").concat(i)}(50)):"to achieve ".concat(he>0?"an increase of":"a decrease of"," ").concat(se," ").concat(R," each ").concat(ae),me=Object(n.useState)("Hi, I'm using uGoals to set research-backed goals. A key step is to send my goal and action steps to a peer. \n\nHere's my goal: I will ".concat(O," by ").concat(q,". To achieve this I will do ").concat(fe,". I'll send you a quick progress update each ").concat(ae,".")),xe=Object(j.a)(me,2),ge=xe[0],ve=xe[1];Object(n.useEffect)((function(){return[ve("Hi, I'm using uGoals to set research-backed goals. A key step is to send my goal and action steps to a peer. \n\nHere's my goal: I will ".concat(O," by ").concat(G(q),". To achieve this I will do ").concat(fe,". I'll send you a quick progress update each ").concat(ae,"."))]}),[O,q,fe,ae]);var we={title:O,currentNumber:m,targetNumber:y,deadline:q,splitTime:ae,perPeriodSummary:fe,actions:Oe,summary:ge,complete:!1},_e=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return");case 2:if(V(!0),n.preventDefault(),null!==o){e.next=10;break}return s(!0),r(we),c(we.title),i("../signup"),e.abrupt("return");case 10:return e.prev=10,e.next=13,t(o.uid,we);case 13:c(O),a(ge),V(!1),i("/goalconfirm"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(10),console.log("errror",e.t0);case 22:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){ne(X>21&&X<91?"week":X>91?"month":"day")}),[X]),Object(n.useEffect)((function(){var e=0;switch(ae){case"day":e=he/X;break;case"week":e=he/X*7;break;case"month":e=he/X*30}oe(he>-10&&he<=10?function(e){var t=e.toFixed(2),a=parseInt(Number(t).toFixed(0)),n=Number(t.substring(t.length,t.length-2));return 50===n||25===n||75===n||0===n?t:(n<13?n=0:n<38?n=.25:n<63?n=.5:n<88?n=.75:(n=0,a+=1),a+n)}(e):function(e){if(e=Math.round(10*e)/10,!String(e).includes("."))return e;var t=Number(String(e).charAt(String(e).length-1));return 5===t?e:e=t<3?Math.round(e):t<8?Math.floor(e)+.5:Math.round(e)}(e))}),[he,ae,X]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:Y.a.newGoalForm,onSubmit:function(e){return _e(e)},children:[Object(x.jsxs)("div",{className:Y.a.section,children:[Object(x.jsx)("label",{children:"Create a measurable goal."}),Object(x.jsx)("input",{autoFocus:!0,type:"text",placeholder:"e.g. Increase revenue to $10,000/month",onChange:function(e){return p(e.target.value)}})]}),O&&Object(x.jsxs)("div",{className:Y.a.row,children:[Object(x.jsxs)("div",{className:Y.a.col,children:[Object(x.jsx)("label",{children:"Current number:"}),Object(x.jsx)("input",{type:"number",placeholder:"e.g. 7,500",onChange:function(e){return g(parseInt(e.target.value))}})]}),m>=0&&Object(x.jsxs)("div",{className:Y.a.col,children:[Object(x.jsx)("label",{children:"Target number:"}),Object(x.jsx)("input",{type:"number",placeholder:"e.g. 10,000",onChange:function(e){return N(parseInt(e.target.value))}})]})]}),y>0&&Object(x.jsxs)("div",{className:Y.a.section,children:[Object(x.jsx)("label",{children:"What is your unit of measurement?"}),Object(x.jsx)("input",{type:"text",placeholder:"e.g. dollars, lbs, ...",onChange:function(e){return H(e.target.value)}})]}),R&&Object(x.jsxs)("div",{className:Y.a.section,children:[Object(x.jsxs)("label",{children:["When is your deadline? ",le&&Object(x.jsx)("p",{className:"warn",children:"Invalid date"})]}),Object(x.jsx)("input",{type:"date",value:q,onChange:function(e){return function(e){je(!1);var t=new Date;C(t,new Date(e.target.value))<0?je(!0):($(C(t,new Date(e.target.value))),K(e.target.value))}(e)}})]}),q!=(new Date).toLocaleDateString("en-ca")&&Object(x.jsxs)("div",{className:Y.a.section,children:[Object(x.jsxs)("label",{children:["Next, make some action commitments. What will I do ",fe,":"]}),Object(x.jsx)(z,{actions:Oe,setActions:pe})]}),Object.keys(Oe).length>0&&Object(x.jsx)("div",{className:Y.a.section,children:!F&&Object(x.jsx)("input",{type:"button",value:"Next",onClick:function(){return M(!0)}})}),F&&Object(x.jsxs)("div",{className:Y.a.confirmation,children:[Object(x.jsx)("p",{children:"The next step is important. Copy your summary and send it to a friend through your preferred method..."}),Object(x.jsx)("textarea",{className:Y.a.summary,value:ge,onChange:function(e){return ve(e.target.value)}}),Object(x.jsx)("label",{children:"Finally, save your goal:"}),Object(x.jsx)("input",{className:Y.a.saveGoal,type:"button",value:"Save goal",onClick:function(e){return _e(e)}})]})]})})},ne=a(19),ce=a.n(ne),re=a(42);var se=function(e){var t=Object(T.g)(),a=Object(T.f)(),c=v().authUser,r=I(),s=r.pendingGoal,i=r.setPendingGoal,b=r.currentUsersGoals,d=r.setSecondsRemaining,O=r.currentGoalId,p=r.setCurrentGoalId,h=(r.findGoalWithTitle,r.toggleGoalComplete),f=r.deleteGoal,m=r.removeAction,g=r.setJustOpenedGoal,w=r.actions,_=(r.setActions,Object(n.useState)("")),C=Object(j.a)(_,2),G=C[0],D=C[1],A=Object(n.useState)(""),F=Object(j.a)(A,2),M=F[0],E=F[1],U=Object(n.useState)({}),P=Object(j.a)(U,2),V=P[0],B=P[1],L=Object(n.useState)(!1),R=Object(j.a)(L,2),H=R[0],W=R[1],J=Object(n.useState)(""),q=Object(j.a)(J,2),K=q[0],Y=q[1],z=Object(n.useState)(!0),Q=Object(j.a)(z,2),Z=Q[0],X=Q[1],$=Object(n.useState)([]),ee=Object(j.a)($,2),te=ee[0],ae=ee[1],ne=!0,se=function(e){for(var t=1;t<e.length;t++)for(var a=t;a>0&&e[a].createdAt<e[a-1].createdAt;){var n=e[a-1];e[a-1]=e[a],e[a]=n,a--}return e},oe=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(c.uid,O,s.complete);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(O,s.complete);case 3:a("/viewgoals"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ue=Object(n.useCallback)(Object(re.debounce)((function(e,t){var a=Object(N.a)(Object(N.a)({},s.actions),{},Object(y.a)({},t,Object(N.a)(Object(N.a)({},s.actions[t]),{},{name:e.target.value})));i(Object(N.a)(Object(N.a)({},s),{},{actions:a})),d(2)}),500),[s]),le=Object(n.useCallback)(Object(re.debounce)((function(e){i(Object(N.a)(Object(N.a)({},s),{},{title:e})),d(2)}),500),[s]),je=Object(n.useCallback)(Object(re.debounce)((function(e){i(Object(N.a)(Object(N.a)({},s),{},{summary:e})),d(2)}),500),[s]),be=function(e){if(g(!1),0!==S(K).length){for(var t=0,a=Object.keys(V);t<a.length;t++){var n=a[t];if(V[n].name===K)return void W(!0)}var c=Object(N.a)(Object(N.a)({},V),{},Object(y.a)({},k(),{name:K,number:Object.keys(V).length,createdAt:(new Date).getTime()}));B(c),i(Object(N.a)(Object(N.a)({},s),{},{actions:c})),Y(""),d(2)}};return Object(n.useEffect)((function(){ne&&b&&Object.keys(b).length>0&&(Object.entries(b).map((function(e,a){var n=Object(j.a)(e,2),c=n[0],r=n[1];r.title===t.goalTitle&&(i(r),B(r.actions),p(c),D(r.title),E(r.summary))})),X(!1),ne=!1)}),[b]),Object(n.useEffect)((function(){V&&Object.keys(V).length>0&&Object.keys(w).length>0&&function(){for(var e=[],t=0,a=Object.entries(V);t<a.length;t++){var n=Object(j.a)(a[t],2),c=n[0],r=n[1];e.push({id:c,name:r.name,createdAt:r.createdAt})}ae(se(e))}()}),[V]),Object(x.jsxs)("div",{className:ce.a.outer,children:[Object(x.jsx)("button",{className:ce.a.backBtn,children:Object(x.jsx)(o.b,{to:"../viewgoals",children:"Back"})}),O&&Object(x.jsxs)("div",{className:ce.a.flexColumn,children:[Object(x.jsxs)("div",{className:ce.a.row,children:[Object(x.jsx)("label",{children:"Title"}),Object(x.jsx)("textarea",{rows:1,value:G,onChange:function(e){return t=e.target.value,g(!1),D(t),void le(t);var t}})]}),Object(x.jsxs)("div",{className:ce.a.row,children:[Object(x.jsx)("label",{children:"Deadline"}),Object(x.jsx)("input",{type:"date",value:s.deadline||"",onChange:function(e){}})]}),Object(x.jsx)("div",{className:ce.a.actions,children:Object(x.jsxs)("label",{children:["Actions to achieve ","",":",Object(x.jsxs)("ul",{className:ce.a.actions,children:[te&&te.map((function(e,t){return Object(x.jsxs)("div",{className:ce.a.row,children:[Object(x.jsx)("input",{autoFocus:!1,className:ce.a.fillFlex,type:"text",value:e.name,onChange:function(t){return function(e,t){g(!1),B(Object(N.a)(Object(N.a)({},V),{},Object(y.a)({},t,Object(N.a)(Object(N.a)({},V[t]),{},{name:e.target.value})))),ue(e,t)}(t,e.id)}}),Object(x.jsx)("p",{className:ce.a.icon,onClick:function(){return function(e){g(!1);var t=Object(N.a)({},V);delete t[e],B(t),i(Object(N.a)(Object(N.a)({},s),{},{actions:t})),m(s.splitTime,e)}(e.id)},children:"X"})]},t)})),H&&Object(x.jsx)("label",{className:"warn",children:"Action already exists"}),Object(x.jsxs)("div",{className:ce.a.row,children:[Object(x.jsx)("input",{autoFocus:!1,className:ce.a.fillFlex,type:"text",value:K,onChange:function(e){W(!1),Y(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),be())}}),Object(x.jsx)("p",{className:"".concat(ce.a.icon," ").concat(ce.a.plus),onClick:function(e){return be()},children:"+"})]})]})]})}),Object(x.jsxs)("div",{className:"".concat(ce.a.completeRow," ").concat(s.complete?"".concat(ce.a.completed):"".concat(ce.a.inProgress)," "),children:[Object(x.jsx)("label",{children:s.complete?"complete":"In progress"}),Object(x.jsx)("input",{className:ce.a.customCheckbox,type:"checkbox",checked:!!s.complete,onChange:function(){return oe()}})]}),Object(x.jsx)("label",{children:"Summary:"}),Object(x.jsx)("textarea",{className:ce.a.summary,value:M,onChange:function(e){return function(e){g(!1),E(),je(e.target.value)}(e)}}),Object(x.jsx)("input",{className:ce.a.deleteBtn,type:"button",value:"Delete Goal",onClick:function(){return ie()}})]}),!O&&!Z&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:ce.a.nOtFoUnD,children:[Object(x.jsx)("p",{className:ce.a.notFound,children:"404"}),Object(x.jsx)("p",{children:"Goal not found. Double check the URL."})]})})]})},oe=a(20),ie=a(46),ue=a.n(ie),le=a(26),je=a.n(le);var be=function(e){var t=Object(T.f)(),a=I(),n=a.currentUsersGoals,c=a.setJustOpenedGoal,r=a.toggleGoalComplete,s=v().authUser,o={animationDelay:"".concat((e.index+1)/4,"s")},i=function(){var t=Object(l.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r(s.uid,e.id,n[e.id].complete);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:n&&n[e.id]&&Object(x.jsxs)("div",{className:e.goal.complete?"".concat(je.a.goalCard," ").concat(je.a.completeGoal):"".concat(je.a.goalCard),style:o,children:[Object(x.jsxs)("div",{className:je.a.row,children:[Object(x.jsx)("label",{children:"Title"}),Object(x.jsx)("p",{className:je.a.title,children:e.goal.title})]}),Object(x.jsxs)("div",{className:je.a.row,children:[Object(x.jsx)("label",{children:"Deadline"}),Object(x.jsx)("p",{className:e.goal.complete?"".concat(je.a.disabled):"",children:e.goal.deadline})]}),Object(x.jsxs)("div",{className:"".concat(je.a.complete),children:[Object(x.jsx)("label",{children:e.goal.complete?"Complete":"In progress"}),Object(x.jsx)("input",{className:je.a.customCheckbox,type:"checkbox",checked:n[e.id].complete,onChange:function(){return i()}})]}),Object(x.jsx)("div",{className:"".concat(je.a.row," ").concat(je.a.center),children:Object(x.jsx)("input",{type:"button",value:"View",onClick:function(){c(!0),t("../viewgoal/".concat(e.goal.title))}})})]})})};var de=function(){var e=I(),t=e.currentUsersGoals,a=e.userGoalsLoading,c=Object(n.useState)(.5),r=Object(j.a)(c,2),s=(r[0],r[1],Object(n.useState)([])),o=Object(j.a)(s,2),i=o[0],u=o[1],l=function(e){for(var t=1;t<e.length;t++)for(var a=t;a>0&&e[a].createdAt<e[a-1].createdAt;){var n=e[a-1];e[a-1]=e[a],e[a]=n,a--}return e};return Object(n.useEffect)((function(){console.log(t),t&&Object.keys(t).length>0&&function(){for(var e=[],a=[],n=0,c=Object.entries(t);n<c.length;n++){var r=Object(j.a)(c[n],2),s=r[0],o=r[1];t[s].complete?e.push(Object(N.a)({id:s},o)):a.push(Object(N.a)({id:s},o))}u([].concat(Object(oe.a)(l(a)),Object(oe.a)(l(e))))}()}),[t]),Object(x.jsxs)(x.Fragment,{children:[i.length>0&&Object(x.jsx)("div",{className:ue.a.goalsSection,children:i.map((function(e,t){return Object(x.jsx)(be,{goal:e,index:t,id:e.id},Math.random())}))}),!a&&0===Object.keys(t).length&&Object(x.jsx)("div",{className:ue.a.message,children:Object(x.jsx)("p",{children:"No goals to show."})})]})},Oe=a(29),pe=a.n(Oe);var he=function(){var e=Object(T.f)(),t=v(),a=t.authUser,c=t.userInfo,r=(t.authLoading,Object(n.useState)(null)),s=Object(j.a)(r,2),o=(s[0],s[1],Object(n.useState)(1)),i=Object(j.a)(o,2),b=i[0],d=i[1],O=Object(n.useState)(),p=Object(j.a)(O,2),h=(p[0],p[1],Object(n.useState)()),f=Object(j.a)(h,2),m=(f[0],f[1],function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e("../delete_account");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(x.jsx)("div",{className:pe.a.account,children:c&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{children:"Account info:"}),Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("label",{children:"Username: "}),Object(x.jsx)("p",{children:null===a||void 0===a?void 0:a.displayName})]}),Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("label",{children:"Email:"}),Object(x.jsx)("p",{children:null===a||void 0===a?void 0:a.email})]}),Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("label",{children:"Created on:"}),Object(x.jsx)("p",{children:new Date(Number(a.metadata.createdAt)).toLocaleDateString()})]}),Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("label",{children:"Goals created:"}),c&&Object(x.jsx)("p",{children:c.goalsCreated})]}),Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("label",{children:"Goals completed:"}),c&&Object(x.jsx)("p",{children:c.goalsCompleted})]}),c&&c.goalsCreated>0&&Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("label",{children:"Completion rate:"}),Object(x.jsx)("p",{children:X(c.goalsCompleted,c.goalsCreated)})]}),Object(x.jsx)("div",{className:pe.a.col,children:1===b?Object(x.jsx)("input",{className:"warn",type:"button",value:"Delete account",onClick:function(){return d(2)}}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("label",{children:"Are you sure?"}),Object(x.jsxs)("div",{className:pe.a.row,children:[Object(x.jsx)("input",{type:"button",className:"gold",onClick:function(){return d(1)},value:"Cancel"}),Object(x.jsx)("input",{className:"warn",type:"button",onClick:function(e){return m(e)},value:"Delete"})]})]})})]})})};a(63),a(32);var fe=a(43),me=a.n(fe);var xe=function(){var e=Object(T.f)(),t=v(),a=(t.authUser,t.signin),c=I(),r=c.pendingGoal,s=c.saveGoal,i=c.setPendingGoal,b=c.setHasPendingGoal,d=Object(n.useState)(""),O=Object(j.a)(d,2),p=O[0],h=O[1],f=Object(n.useState)(""),m=Object(j.a)(f,2),g=m[0],w=m[1],_=Object(n.useState)(!1),y=Object(j.a)(_,2),N=y[0],k=y[1],S=Object(n.useState)(!1),C=Object(j.a)(S,2),G=C[0],D=C[1],A=Object(n.useState)(!1),F=Object(j.a)(A,2),M=F[0],E=(F[1],Object(n.useState)(!1)),U=Object(j.a)(E,2),P=U[0],V=U[1],B=function(){var t=Object(l.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,a(p,g);case 4:if(c=t.sent,!(Object.keys(r).length>0)){t.next=11;break}return t.next=8,s(c.user.uid,r,r.title);case 8:i({}),b(!1),e("../goalconfirm");case 11:e("/"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),"auth/user-not-found"===t.t0.code?k(!0):"auth/wrong-password"===t.t0.code?D(!0):V(!0);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:me.a.form,onSubmit:function(e){return B(e)},onChange:function(){return V(!1),D(!1),void k(!1)},children:[Object.keys(r).length>0&&Object(x.jsx)("label",{children:"Sign in to save your goal"}),P&&Object(x.jsx)("p",{className:"warn",children:"Error logging in."}),N&&Object(x.jsx)("p",{className:"warn",children:"Email not found"}),Object(x.jsx)("input",{placeholder:"Email...",type:"text",onChange:function(e){return h(e.target.value)}}),G&&Object(x.jsx)("p",{className:"warn",children:"Incorrect password"}),Object(x.jsx)("input",{placeholder:"Password...",type:"password",onChange:function(e){return w(e.target.value)}}),Object(x.jsx)("input",{type:"submit",value:"Sign In"}),Object(x.jsxs)("p",{className:"subtext",children:["Don't have an account? ",Object(x.jsx)(o.b,{className:"subtext",to:"/signup",children:"Sign up"})]}),M&&Object(x.jsxs)("p",{className:me.a.subtext,children:["Forgot your password? ",Object(x.jsx)(o.b,{className:me.a.subtext,to:"/signup",children:"Reset"})]})]})})},ge=a(36),ve=a.n(ge);var we=function(e){var t=I().toggleActionComplete,a=function(){var a=Object(l.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t(e.period,e.actionID,e.currentStart,e.complete);case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.log(a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(){return a.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{type:"checkbox",checked:e.complete,onChange:function(){return a()}}),Object(x.jsx)("label",{children:e.name})]})};var _e=function(e){var t,a=I(),c=(a.actions,a.toggleActionComplete,Object(n.useState)("")),r=Object(j.a)(c,2),s=(r[0],r[1]),o=Object(n.useState)([]),i=Object(j.a)(o,2),u=i[0],l=i[1],b=function(e){console.log("sorting by creation",e);for(var t=1;t<e.length;t++)for(var a=t;a>0&&e[a].createdAt<e[a-1].createdAt;){var n=e[a-1];e[a-1]=e[a],e[a]=n,a--}return e};return Object(n.useEffect)((function(){s((new Date).toDateString())}),[]),Object(n.useEffect)((function(){Object.keys(e.data).length>0&&(console.log("props.data",e.data),function(){for(var t=[],a=[],n=0,c=Object.entries(e.data);n<c.length;n++){var r=Object(j.a)(c[n],2),s=r[0],o=r[1];console.log("props.data[key]",e.data[s]),console.log("props.period",e.period),console.log("getCurrentStart(props.data[key], props.period)",F(e.data[s],e.period)),e.data[s][F(e.data[s],e.period)].complete?t.push(Object(N.a)({id:s},o)):a.push(Object(N.a)({id:s},o))}l([].concat(Object(oe.a)(b(a)),Object(oe.a)(b(t))))}())}),[e.data]),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"".concat(ve.a.card," card"),children:[Object(x.jsxs)("div",{className:ve.a.top,children:[Object(x.jsx)("input",{type:"button",value:"day"===e.period?"Today":"week"===e.period?"This Week":"This Month"}),Object(x.jsx)("input",{readOnly:!0,type:"text",value:(t=e.period,"day"===t?(new Date).toDateString().slice(0,-4):"week"===t?"".concat(A((new Date).toDateString())," - ").concat(A(function(){var e=new Date;return new Date(e.getTime()+6048e5)}().toDateString())):"".concat(A((new Date).toDateString())," - ").concat(A(function(){var e=new Date;return new Date(e.getTime()+2592e6)}().toDateString())))})]}),Object(x.jsx)("div",{className:ve.a.bottom,children:u.map((function(t,a){return Object(x.jsx)("div",{className:ve.a.row,children:Object(x.jsx)(we,{name:t.name,complete:t[F(t,e.period)].complete,actionID:t.id,currentStart:F(t,e.period),period:e.period})},a)}))})]})})};var ye=function(){var e=v(),t=e.authUser,a=e.userInfo,n=e.authStateLoading,c=I(),r=(c.currentUsersGoals,c.actions);return c.saveGoal,Object(x.jsx)(x.Fragment,{children:!n&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"homepage_top",children:null!==t&&Object(x.jsxs)("h2",{className:"welcome",children:["Welcome ",t.displayName]})}),Object(x.jsxs)("div",{className:"homepage_bottom",children:[Object(x.jsx)("div",{className:"crossbar"}),null===t?Object(x.jsx)("div",{className:"signincard",children:Object(x.jsx)(xe,{})}):Object(x.jsx)(x.Fragment,{children:Object.keys(r).map((function(e){if(Object.keys(r[e]).length>0)return Object(x.jsx)(_e,{period:e,data:r[e]},e)}))}),Object(x.jsx)("div",{className:"landingcard",children:null===t?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{className:"home",children:"Achieve your goals with research-backed goal setting."}),Object(x.jsx)(o.b,{className:"home",id:"learnMore",to:"/about",children:"Learn More"}),Object(x.jsx)(o.b,{className:"home",id:"startNow",to:"/signup",children:"Start Now"})]}):Object(x.jsxs)(x.Fragment,{children:[a&&a.goalsCreated>0&&Object(x.jsx)(o.b,{className:"home",id:"learnMore",to:"/viewgoals",children:"View your Goals"}),a&&0===a.goalsCreated&&Object(x.jsx)("p",{className:"pulse",children:"Create your first goal"}),Object(x.jsx)(o.b,{className:"home",id:"startNow",to:"/newgoal",children:"New Goal +"})]})})]})]})})},Ne=a(47),ke=a.n(Ne);var Se=function(){var e=Object(Q.useState)(""),t=Object(j.a)(e,2),a=(t[0],t[1],Object(Q.useState)("")),c=Object(j.a)(a,2),r=c[0],s=c[1],o=Object(Q.useState)(!1),i=Object(j.a)(o,2),b=i[0],d=i[1],O=Object(Q.useState)(!1),p=Object(j.a)(O,2),h=p[0],f=p[1],m=v(),g=m.deleteAccount,w=m.authUser,_=m.reAuthenticate,y=(I().setPendingGoal,Object(Q.useState)(!1)),N=Object(j.a)(y,2),k=N[0],S=N[1],C=(Object(T.f)(),function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(w.uid);case 3:d(!0),S(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),S(!0),console.log("deleting error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()),G=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(r);case 3:return e.next=5,C();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),f(!0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){C()}),[]),Object(x.jsxs)(x.Fragment,{children:[k&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:ke.a.reAuthenticate,children:[Object(x.jsx)("p",{children:"Please confirm account info:"}),h&&Object(x.jsx)("p",{className:"warn",children:"Incorrect password."}),Object(x.jsx)("input",{type:"password",placeholder:"password",value:r,onChange:function(e){f(!1),s(e.target.value)}}),Object(x.jsx)("input",{type:"button",value:"Delete account",onClick:function(){return G()}})]})}),b&&Object(x.jsxs)("div",{className:ke.a.confirm,children:[Object(x.jsx)("p",{children:"Your account has been deleted."}),Object(x.jsx)("p",{children:"Come back anytime."})]})]})},Ce=a(48),Ge=a.n(Ce);var De=function(){return Object(x.jsx)("footer",{className:"".concat(Ge.a.footer),children:Object(x.jsx)("div",{className:Ge.a.col,children:Object(x.jsx)("p",{children:"\xa9 2021"})})})};a(64);var Ae=function(e){var t=e.text;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("p",{children:t})})};var Fe=function(){var e=I(),t=e.secondsRemaining,a=(e.setSecondsRemaining,window.matchMedia("screen and (max-width: 770px)")),c=Object(n.useState)(a.matches),r=Object(j.a)(c,2),s=r[0],o=r[1],i=function(){return o(a.matches)},u=Object(n.useState)("clear"),l=Object(j.a)(u,2),b=l[0],d=l[1];return Object(n.useEffect)((function(){return a.addEventListener("change",i),function(){return a.removeEventListener("change",i)}}),[a]),Object(x.jsxs)(x.Fragment,{children:[s?Object(x.jsx)(B,{bluredState:b,setBluredState:d}):Object(x.jsx)(H,{}),t>0&&Object(x.jsx)("div",{className:"popup",children:Object(x.jsx)(Ae,{text:"Your changes have been saved."})}),Object(x.jsx)("div",{className:"middle ".concat(b),children:Object(x.jsxs)(T.c,{children:[Object(x.jsx)(T.a,{path:"/",element:Object(x.jsx)(ye,{})}),Object(x.jsx)(T.a,{path:"/account",element:Object(x.jsx)(he,{})}),Object(x.jsx)(T.a,{path:"/newgoal",element:Object(x.jsx)(ae,{})}),Object(x.jsx)(T.a,{path:"/goalconfirm",element:Object(x.jsx)(Z,{})}),Object(x.jsx)(T.a,{path:"/viewgoal",element:Object(x.jsx)(se,{}),children:Object(x.jsx)(T.a,{path:":goalTitle",element:Object(x.jsx)(se,{})})}),Object(x.jsx)(T.a,{path:"/viewgoals",element:Object(x.jsx)(de,{})}),Object(x.jsx)(T.a,{path:"/about",element:Object(x.jsx)(q,{})}),Object(x.jsx)(T.a,{path:"/signin",element:Object(x.jsx)(xe,{})}),Object(x.jsx)(T.a,{path:"/signup",element:Object(x.jsx)(te,{})}),Object(x.jsx)(T.a,{path:"/delete_account",element:Object(x.jsx)(Se,{})})]})}),Object(x.jsx)(De,{})]})};s.a.render(Object(x.jsx)(w,{children:Object(x.jsx)(E,{children:Object(x.jsx)(o.a,{children:Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Fe,{})})})})}),document.getElementById("root"))}],[[65,1,2]]]);
//# sourceMappingURL=main.eab9da6b.chunk.js.map